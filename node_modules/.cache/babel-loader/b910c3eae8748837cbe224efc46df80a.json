{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Nourou\\\\Documents\\\\Developpement WEB\\\\CamSecurite-django-react\\\\frontend\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport Accueil from './pages/Accueil';\nimport React, { useState, useEffect } from 'react';\nimport './App.scss';\nimport { auth } from './firebase_config';\nimport Navtop from './pages/components/Navtop';\nimport Produitslist from './pages/components/ProduitsList';\nimport Stepbarre from './pages/components/StepBarre';\nimport Panier from './pages/components/Panier';\nimport Livraison from './pages/components/Livraison';\nimport Choixlivraison from './pages/components/ChoixLivraison';\nimport Commanderecap from './pages/components/CommandeRecap';\nimport Panierprocess from './pages/PanierProcess';\nimport $ from 'jquery';\nimport { BrowserRouter, Route, Routes } from \"react-router-dom\";\nimport Footer from './pages/components/Footer';\nimport Produitachat from './pages/components/ProduitAchat';\nimport Compte from './pages/Compte';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction App(props) {\n  _s();\n\n  let cat = {\n    nom: \"Caméra Espion\",\n    sousNom: \"Très vicieux\",\n    banniereImage: \"https://images.unsplash.com/photo-1512790182412-b19e6d62bc39?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1332&q=80\"\n  };\n  const [modalContent, setModalcontent] = useState();\n  const [token, setToken] = useState(localStorage.getItem('token') ? true : false);\n  const [logged_in, setLogin] = useState(token);\n  const [user, setUser] = useState('');\n  const [prenom, setPrenom] = useState('');\n\n  const showHideModal = (e, modal) => {\n    console.log('ls', localStorage.getItem('token'));\n    e.preventDefault();\n\n    if ($(\".modalContainer\").hasClass(\"d-none\")) {\n      setModalcontent(modal);\n      $(\".modalContainer\").removeClass(\"d-none\");\n      $(\"body\").addClass('noScroll');\n    } else {\n      $(\".modalContainer\").addClass(\"d-none\");\n      $(\"body\").removeClass('noScroll');\n    }\n  };\n\n  const getCSRF = async () => {\n    var url2 = \"http://localhost:8000/csrf/\";\n    let r = '';\n    await fetch(url2, {\n      credentials: 'include'\n    }).then(response => {\n      if (response.ok) {\n        console.log(\"fetchCSRF\");\n        r = response.json();\n      } else {\n        console.log(response, 'Mauvaise réponse du réseau');\n      }\n    }).catch(function (error) {\n      console.log('Il y a eu un problème avec l\\'opération fetch: ' + error.message);\n    });\n    return r;\n  };\n\n  useEffect(() => {\n    // Update the document title using the browser API\n    $(\".loadIT\").addClass(\"o0\");\n    setTimeout(() => {\n      $(\".loadIT\").addClass(\"d-none\");\n    }, 1000);\n\n    let t = async () => {\n      var url = \"http://localhost:8000/current_user/?format=json\";\n      let r = await getCSRF();\n      const csrftoken = r.csrfToken;\n      let data = fetch(url, {\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json',\n          'X-CSRFToken': csrftoken\n        },\n        credentials: 'include'\n      }).then(response => {\n        if (response.ok) {\n          console.log(\"current_user ttt\", response);\n          return response.json();\n        } else {\n          console.log(response, 'Mauvaise réponse du réseau');\n        }\n      }).then(data => {\n        return data;\n        console.log(\"reponse 88888\", data);\n        setUser(data);\n        console.log('u', user.user.first_name);\n        setPrenom(data.user.first_name);\n        localStorage.setItem('token', data.token);\n      }).catch(function (error) {\n        console.log('Il y a eu un problème avec l\\'opération fetch: ' + error.message);\n      });\n      console.log('dddattaa', data);\n    };\n\n    t();\n  }, [prenom]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"loader\",\n      className: \"loadIT three col\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loader\",\n        id: \"loader-1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(BrowserRouter, {\n      children: [/*#__PURE__*/_jsxDEV(Navtop, {\n        showHideModal: showHideModal,\n        modalContent: modalContent,\n        setModalcontent: setModalcontent,\n        user: user,\n        token: token,\n        setToken: setToken,\n        logged_in: logged_in,\n        setLogin: setLogin,\n        prenom: prenom,\n        setPrenom: setPrenom\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Routes, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/\",\n          element: /*#__PURE__*/_jsxDEV(Accueil, {\n            showHideModal: showHideModal,\n            modalContent: modalContent,\n            setModalcontent: setModalcontent,\n            user: user\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 36\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/panier/:id\",\n          element: /*#__PURE__*/_jsxDEV(Panierprocess, {\n            showHideModal: showHideModal,\n            modalContent: modalContent,\n            setModalcontent: setModalcontent,\n            user: user\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 46\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/categorie/:id\",\n          element: /*#__PURE__*/_jsxDEV(Produitslist, {\n            showHideModal: showHideModal,\n            modalContent: modalContent,\n            setModalcontent: setModalcontent,\n            user: user\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 49\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/produit/:id\",\n          element: /*#__PURE__*/_jsxDEV(Produitachat, {\n            showHideModal: showHideModal,\n            modalContent: modalContent,\n            setModalcontent: setModalcontent,\n            user: user\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 47\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/compte/:id\",\n          element: /*#__PURE__*/_jsxDEV(Compte, {\n            showHideModal: showHideModal,\n            modalContent: modalContent,\n            setModalcontent: setModalcontent,\n            user: user,\n            token: token,\n            setToken: setToken,\n            logged_in: logged_in,\n            setLogin: setLogin,\n            prenom: prenom,\n            setPrenom: setPrenom\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 46\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/recherche/:s\",\n          element: /*#__PURE__*/_jsxDEV(Produitslist, {\n            showHideModal: showHideModal,\n            modalContent: modalContent,\n            setModalcontent: setModalcontent,\n            user: user\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 48\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(App, \"FqrLsycLNmIvJwOWyG0dnVH+IW0=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["C:/Users/Nourou/Documents/Developpement WEB/CamSecurite-django-react/frontend/src/App.js"],"names":["Accueil","React","useState","useEffect","auth","Navtop","Produitslist","Stepbarre","Panier","Livraison","Choixlivraison","Commanderecap","Panierprocess","$","BrowserRouter","Route","Routes","Footer","Produitachat","Compte","App","props","cat","nom","sousNom","banniereImage","modalContent","setModalcontent","token","setToken","localStorage","getItem","logged_in","setLogin","user","setUser","prenom","setPrenom","showHideModal","e","modal","console","log","preventDefault","hasClass","removeClass","addClass","getCSRF","url2","r","fetch","credentials","then","response","ok","json","catch","error","message","setTimeout","t","url","csrftoken","csrfToken","data","headers","first_name","setItem"],"mappings":"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","sourcesContent":["import Accueil from './pages/Accueil';\nimport React, { useState, useEffect } from 'react';\nimport './App.scss';\nimport { auth } from './firebase_config'\nimport Navtop from './pages/components/Navtop';\nimport Produitslist from './pages/components/ProduitsList';\nimport Stepbarre from './pages/components/StepBarre';\nimport Panier from './pages/components/Panier';\nimport Livraison from './pages/components/Livraison';\nimport Choixlivraison from './pages/components/ChoixLivraison';\nimport Commanderecap from './pages/components/CommandeRecap';\nimport Panierprocess from './pages/PanierProcess';\nimport $ from 'jquery';\nimport { BrowserRouter, Route, Routes } from \"react-router-dom\";\nimport Footer from './pages/components/Footer';\nimport Produitachat from './pages/components/ProduitAchat';\nimport Compte from './pages/Compte';\n\n\nfunction App(props) {\n  let cat = {\n    nom: \"Caméra Espion\",\n    sousNom: \"Très vicieux\",\n    banniereImage: \"https://images.unsplash.com/photo-1512790182412-b19e6d62bc39?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1332&q=80\",\n  }\n  const [modalContent, setModalcontent] = useState();\n  const [token,setToken] = useState(localStorage.getItem('token') ? true : false)\n  const [logged_in,setLogin] = useState(token)\n  const [user, setUser] = useState('');\n  const [prenom,setPrenom] = useState('');\n\n\n\n  const showHideModal = (e, modal) => {\n    console.log('ls',localStorage.getItem('token'))\n\n    e.preventDefault()\n    if ($(\".modalContainer\").hasClass(\"d-none\")) {\n      setModalcontent(modal)\n      $(\".modalContainer\").removeClass(\"d-none\")\n      $(\"body\").addClass('noScroll')\n    }\n    else {\n      $(\".modalContainer\").addClass(\"d-none\")\n      $(\"body\").removeClass('noScroll')\n    }\n  }\n\n  const getCSRF = async () => {\n    var url2 = \"http://localhost:8000/csrf/\"\n    let r = '' \n    await fetch(url2, {\n        credentials: 'include',\n      }).then(response => {\n        if(response.ok) {\n            console.log(\"fetchCSRF\")\n            r = response.json();\n        } else {\n            console.log(response,'Mauvaise réponse du réseau');\n        }\n        })\n        .catch(function(error) {\n        console.log('Il y a eu un problème avec l\\'opération fetch: ' + error.message);\n        });\n    return r\n}\n\n  useEffect(() => {\n    // Update the document title using the browser API\n      $(\".loadIT\").addClass(\"o0\")\n      setTimeout(()=>{$(\".loadIT\").addClass(\"d-none\")},1000)\n      let t = async () => {\n        var url = \"http://localhost:8000/current_user/?format=json\"\n        let r = await getCSRF()\n        const csrftoken = r.csrfToken\n        let data = fetch(url,{                \n          headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json',\n          'X-CSRFToken': csrftoken\n        }, \n        credentials: 'include',\n        }).then(response => {\n        if(response.ok) {\n            console.log(\"current_user ttt\",response)\n            return response.json();\n        } else {\n            console.log(response,'Mauvaise réponse du réseau');\n        }\n        }).then(data => \n            {\n              return(data)\n                console.log(\"reponse 88888\",data)\n                setUser(data)\n                console.log('u',user.user.first_name)\n                setPrenom(data.user.first_name)\n                localStorage.setItem('token', data.token);\n            }\n            )\n        .catch(function(error) {\n        console.log('Il y a eu un problème avec l\\'opération fetch: ' + error.message);\n        });\n        console.log('dddattaa',data)\n      }\n      t()\n      \n  },[prenom]);\n\n  return (\n    <>\n      <div id=\"loader\" className=\"loadIT three col\">\n        <div className=\"loader\" id=\"loader-1\"></div>\n      </div>\n      <BrowserRouter>\n      <Navtop showHideModal={showHideModal} modalContent={modalContent} setModalcontent={setModalcontent} user={user} token={token} setToken={setToken} logged_in={logged_in} setLogin={setLogin} prenom={prenom} setPrenom={setPrenom} />\n        <Routes>\n          <Route path=\"/\" element={<Accueil showHideModal={showHideModal} modalContent={modalContent} setModalcontent={setModalcontent} user={user}/>} />\n          <Route path=\"/panier/:id\" element={<Panierprocess showHideModal={showHideModal} modalContent={modalContent} setModalcontent={setModalcontent} user={user}/>} />\n          <Route path=\"/categorie/:id\" element={<Produitslist showHideModal={showHideModal} modalContent={modalContent} setModalcontent={setModalcontent} user={user}/>} />\n          <Route path=\"/produit/:id\" element={<Produitachat showHideModal={showHideModal} modalContent={modalContent} setModalcontent={setModalcontent} user={user}/>} />\n          <Route path=\"/compte/:id\" element={<Compte showHideModal={showHideModal} modalContent={modalContent} setModalcontent={setModalcontent} user={user} token={token} setToken={setToken} logged_in={logged_in} setLogin={setLogin} prenom={prenom} setPrenom={setPrenom} />} />\n          <Route path=\"/recherche/:s\" element={<Produitslist showHideModal={showHideModal} modalContent={modalContent} setModalcontent={setModalcontent} user={user} />} />\n        </Routes>\n      </BrowserRouter>\n      <Footer/>\n\n    </>\n  );\n\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}