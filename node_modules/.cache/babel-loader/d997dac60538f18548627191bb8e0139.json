{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Nourou\\\\Documents\\\\Developpement WEB\\\\CamSecurite-django-react\\\\frontend\\\\src\\\\pages\\\\PanierProcess.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport Choixlivraison from './components/ChoixLivraison';\nimport Commanderecap from './components/CommandeRecap';\nimport Livraison from './components/Livraison';\nimport Panier from './components/Panier';\nimport Stepbarre from './components/StepBarre';\nimport $ from 'jquery';\nimport Payementchoix from './components/PayementChoix';\nimport { PayPalScriptProvider, PayPalButtons } from \"@paypal/react-paypal-js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Panierprocess = props => {\n  _s();\n\n  const [panierItems, setPanieritems] = useState(['']);\n  const [panier, setPanier] = useState('');\n  const [u, setU] = useState('');\n\n  const getCSRF = async () => {\n    var url2 = \"http://localhost:8000/csrf/\";\n    let r = '';\n    await fetch(url2, {\n      credentials: 'include'\n    }).then(response => {\n      if (response.ok) {\n        console.log(\"fetchCSRF panier process\");\n        r = response.json();\n      } else {\n        console.log(response, 'Mauvaise réponse du réseau');\n      }\n    }).catch(function (error) {\n      console.log('Il y a eu un problème avec l\\'opération fetch: ' + error.message);\n    });\n    return r;\n  };\n\n  console.log('props ppp produit', props);\n  useEffect(async () => {\n    let t = async () => {\n      var url = \"http://localhost:8000/current_user/?format=json\";\n      let r = await getCSRF();\n      const csrftoken = r.csrfToken;\n      let data = await fetch(url, {\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json',\n          'X-CSRFToken': csrftoken\n        },\n        credentials: 'include'\n      }).then(response => {\n        if (response.ok) {\n          console.log(\"current_user de panier process\", response);\n          return response.json();\n        } else {\n          console.log(response, 'Mauvaise réponse du réseau');\n        }\n      }).then(data => {\n        return data;\n      }).catch(function (error) {\n        console.log('Il y a eu un problème avec l\\'opération fetch: ' + error.message);\n      });\n      setU(data);\n    };\n\n    await t();\n\n    if (u.id != undefined) {\n      var url2 = `http://localhost:8000/panier/${props.user.id}/`;\n      let data2 = await fetch(url2).then(response => {\n        if (response.ok) {\n          console.log(\"fetch panier panier process\");\n          return response.json();\n        } else {\n          console.log(response, 'Mauvaise réponse du réseau');\n        }\n      }).then(data => {\n        return data;\n      }).catch(function (error) {\n        console.log('Il y a eu un problème avec l\\'opération fetch: ' + error.message);\n      });\n      setPanieritems(data2);\n      setPanier(data2[0].panier);\n      console.log(\"ddata1151\", panierItems);\n    }\n\n    return () => {};\n  }, [u.id]);\n\n  const goToPanier = () => {\n    setPanierStep( /*#__PURE__*/_jsxDEV(Panier, {\n      user: u,\n      button: btnPanier\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 23\n    }, this));\n    setStepBarreBtn(btnPanier);\n  };\n\n  const goToLivraison = () => {\n    setPanierStep( /*#__PURE__*/_jsxDEV(Livraison, {\n      button: btnLivraison\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 23\n    }, this));\n    setStepBarreBtn(btnLivraison);\n    $(\"#stepPanier\").addClass('stepValide');\n    $(\"#panierToLivraison\").addClass(\"stepStateActive\");\n    $(\"#stepPanier\").removeClass(\"stepActive\");\n    setTimeout(() => $(\"#stepLivraison\").addClass('stepActive'), 1000);\n  };\n\n  const goToChoixLivraison = async () => {\n    let inputs = new Object();\n\n    for (let i = 0; i < $(\".inputform\").length; i++) inputs[$(\".inputform\")[i].name] = $(\".inputform\")[i].value;\n\n    var inputsForm = JSON.stringify(inputs);\n    console.log('entrer:::::', inputsForm);\n    let r = await getCSRF();\n    console.log(\"csrftoken OK\", r.csrfToken);\n    let csrftoken = r.csrfToken;\n    let us = '';\n\n    let t = async () => {\n      var url = \"http://localhost:8000/current_user/?format=json\";\n      let r = await getCSRF();\n      const csrftoken = r.csrfToken;\n      let data = await fetch(url, {\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json',\n          'X-CSRFToken': csrftoken\n        },\n        credentials: 'include'\n      }).then(response => {\n        if (response.ok) {\n          console.log(\"current_user de panier process\", response);\n          return response.json();\n        } else {\n          console.log(response, 'Mauvaise réponse du réseau');\n        }\n      }).then(data => {\n        return data;\n      }).catch(function (error) {\n        console.log('Il y a eu un problème avec l\\'opération fetch: ' + error.message);\n      });\n      us = data;\n    };\n\n    await t();\n    var url2 = \"http://localhost:8000/users/\" + us.id + \"/\";\n    await fetch(url2, {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'X-CSRFToken': csrftoken\n      },\n      credentials: 'include',\n      body: inputsForm\n    }).then(response => {\n      if (response.ok) {\n        console.log(\"fetchLogin\", response);\n        return response.json();\n      } else {\n        console.log(response, 'Mauvaise réponse du réseau');\n      }\n    }).then(data => {\n      console.log(\"reponse\", data);\n    }).catch(function (error) {\n      console.log('Il y a eu un problème avec l\\'opération fetch: ' + error.message);\n    });\n    setPanierStep( /*#__PURE__*/_jsxDEV(Choixlivraison, {\n      button: btnChoixLivraison\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 23\n    }, this));\n    setStepBarreBtn(btnChoixLivraison);\n    $(\"#stepLivraison\").addClass('stepValide');\n    $(\"#livraisonToChoixLivraison\").addClass(\"stepStateActive\");\n    $(\"#stepLivraison\").removeClass(\"stepActive\");\n    setTimeout(() => $(\"#stepChoixLivraison\").addClass('stepActive'), 1000);\n  };\n\n  const goToRecap = async () => {\n    let inputs = new Object();\n    console.log('le choix de la livraison:', $(\".livChoixActive\")[0]);\n    inputs[\"livraison\"] = $(\".livChoixActive\")[0].id;\n    var inputsForm = JSON.stringify(inputs);\n    console.log('entrer:::::', inputsForm);\n    let r = await getCSRF();\n    console.log(\"csrftoken OK\", r.csrfToken);\n    let csrftoken = r.csrfToken;\n    let us = '';\n\n    let t = async () => {\n      var url = \"http://localhost:8000/current_user/?format=json\";\n      let r = await getCSRF();\n      const csrftoken = r.csrfToken;\n      let data = await fetch(url, {\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json',\n          'X-CSRFToken': csrftoken\n        },\n        credentials: 'include'\n      }).then(response => {\n        if (response.ok) {\n          console.log(\"current_user de panier process\", response);\n          return response.json();\n        } else {\n          console.log(response, 'Mauvaise réponse du réseau');\n        }\n      }).then(data => {\n        return data;\n      }).catch(function (error) {\n        console.log('Il y a eu un problème avec l\\'opération fetch: ' + error.message);\n      });\n      us = data;\n    };\n\n    await t();\n    var url2 = \"http://localhost:8000/choix-livraison/\" + us.id + \"/\";\n    await fetch(url2, {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'X-CSRFToken': csrftoken\n      },\n      credentials: 'include',\n      body: inputsForm\n    }).then(response => {\n      if (response.ok) {\n        console.log(\"fetchLogin\", response);\n        return response.json();\n      } else {\n        console.log(response, 'Mauvaise réponse du réseau');\n      }\n    }).then(data => {\n      console.log(\"reponse\", data);\n    }).catch(function (error) {\n      console.log('Il y a eu un problème avec l\\'opération fetch: ' + error.message);\n    });\n    setPanierStep( /*#__PURE__*/_jsxDEV(Commanderecap, {\n      button: btnPayer\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 23\n    }, this));\n    setStepBarreBtn(btnPayer);\n    $(\"#stepChoixLivraison\").addClass('stepValide');\n    $(\"#choixLivraisonToRecapCommande\").addClass(\"stepStateActive\");\n    $(\"#stepChoixLivraison\").removeClass(\"stepActive\");\n    setTimeout(() => $(\"#stepRecapCommande\").addClass('stepActive'), 1000);\n  };\n\n  const btnPanier = /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-100 d-flex align-items-center justify-content-center\",\n    children: /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"produitBuyBtn\",\n      onClick: () => goToLivraison(),\n      children: \"Valider mon panier\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 248,\n    columnNumber: 9\n  }, this);\n\n  const btnLivraison = /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-100 d-flex align-items-center justify-content-center\",\n    children: /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"produitBuyBtn\",\n      onClick: () => goToChoixLivraison(),\n      children: \"Confirmer les informations\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 253,\n    columnNumber: 9\n  }, this);\n\n  const btnChoixLivraison = /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-100 d-flex align-items-center justify-content-center\",\n    children: /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"produitBuyBtn\",\n      onClick: () => goToRecap(),\n      children: \"Choisir ce mode de livraison\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 258,\n    columnNumber: 9\n  }, this);\n\n  const initialOptions = {\n    \"client-id\": \"ASFEAZSj8J9EWXzFzTRIqT9Frn3FONIEgXx87hRWxhJyCSv7_SshAkT1TW0OSjTySDAb4cEXdVW7olO3\",\n    currency: \"EUR\"\n  };\n  console.log('priiiiiiiiiiiiiiiiiiiiiiiiixxxx', panier);\n\n  const btnPayer = /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-100 d-flex align-items-center justify-content-center\",\n    onClick: e => props.showHideModal(e, /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        maxWidth: '400px',\n        width: '100vh'\n      },\n      children: /*#__PURE__*/_jsxDEV(PayPalScriptProvider, {\n        options: initialOptions,\n        children: /*#__PURE__*/_jsxDEV(PayPalButtons, {\n          style: {\n            layout: \"vertical\",\n            color: 'black',\n            width: \"500px\",\n            Tagline: false\n          },\n          createOrder: (data, actions) => {\n            return actions.order.create({\n              purchase_units: [{\n                amount: {\n                  value: panier.totalaveclivraison\n                }\n              }]\n            });\n          },\n          onApprove: (data, actions) => {\n            return actions.order.capture().then(details => {\n              const name = details.payer.name.given_name;\n              alert(`Transaction completed by ${name}`);\n            });\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 13\n    }, this)),\n    children: /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"produitBuyBtn\",\n      children: \"Payement\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 268,\n    columnNumber: 9\n  }, this);\n\n  const [panierStep, setPanierStep] = useState( /*#__PURE__*/_jsxDEV(Panier, {\n    user: u,\n    button: btnPanier\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 302,\n    columnNumber: 49\n  }, this));\n  const [stepBarreBtn, setStepBarreBtn] = useState(btnPanier);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main w-100\",\n      children: [/*#__PURE__*/_jsxDEV(Stepbarre, {\n        toPanier: goToPanier,\n        toLivraison: goToLivraison,\n        toChoixLivraison: goToChoixLivraison,\n        toCommandeRecap: goToRecap,\n        button: stepBarreBtn\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-100 justify-content-center\",\n        children: panierStep\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n};\n\n_s(Panierprocess, \"CbADgc9sn4OiHpGlp8r52RWx65w=\");\n\n_c = Panierprocess;\nexport default Panierprocess;\n\nvar _c;\n\n$RefreshReg$(_c, \"Panierprocess\");","map":{"version":3,"sources":["C:/Users/Nourou/Documents/Developpement WEB/CamSecurite-django-react/frontend/src/pages/PanierProcess.js"],"names":["React","useState","useEffect","Choixlivraison","Commanderecap","Livraison","Panier","Stepbarre","$","Payementchoix","PayPalScriptProvider","PayPalButtons","Panierprocess","props","panierItems","setPanieritems","panier","setPanier","u","setU","getCSRF","url2","r","fetch","credentials","then","response","ok","console","log","json","catch","error","message","t","url","csrftoken","csrfToken","data","headers","id","undefined","user","data2","goToPanier","setPanierStep","btnPanier","setStepBarreBtn","goToLivraison","btnLivraison","addClass","removeClass","setTimeout","goToChoixLivraison","inputs","Object","i","length","name","value","inputsForm","JSON","stringify","us","method","body","btnChoixLivraison","goToRecap","btnPayer","initialOptions","currency","e","showHideModal","maxWidth","width","layout","color","Tagline","actions","order","create","purchase_units","amount","totalaveclivraison","capture","details","payer","given_name","alert","panierStep","stepBarreBtn"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Choixlivraison from './components/ChoixLivraison';\r\nimport Commanderecap from './components/CommandeRecap';\r\nimport Livraison from './components/Livraison';\r\nimport Panier from './components/Panier';\r\nimport Stepbarre from './components/StepBarre';\r\nimport $ from 'jquery';\r\nimport Payementchoix from './components/PayementChoix';\r\nimport { PayPalScriptProvider, PayPalButtons } from \"@paypal/react-paypal-js\";\r\n\r\n\r\nconst Panierprocess = (props) => {\r\n    const [panierItems, setPanieritems] = useState([''])\r\n    const [panier,setPanier] = useState('')\r\n    const [u,setU] = useState('')\r\n    const getCSRF = async () => {\r\n    var url2 = \"http://localhost:8000/csrf/\"\r\n    let r = '' \r\n    await fetch(url2, {\r\n        credentials: 'include',\r\n      }).then(response => {\r\n        if(response.ok) {\r\n            console.log(\"fetchCSRF panier process\")\r\n            r = response.json();\r\n        } else {\r\n            console.log(response,'Mauvaise réponse du réseau');\r\n        }\r\n        })\r\n        .catch(function(error) {\r\n        console.log('Il y a eu un problème avec l\\'opération fetch: ' + error.message);\r\n        });\r\n    return r\r\n    }\r\n\r\n    console.log('props ppp produit',props)\r\n    useEffect(async () => {\r\n        let t = async () => {\r\n            var url = \"http://localhost:8000/current_user/?format=json\"\r\n            let r = await getCSRF()\r\n            const csrftoken = r.csrfToken\r\n            let data = await fetch(url,{                \r\n              headers: {\r\n              'Accept': 'application/json',\r\n              'Content-Type': 'application/json',\r\n              'X-CSRFToken': csrftoken\r\n            }, \r\n            credentials: 'include',\r\n            }).then(response => {\r\n            if(response.ok) {\r\n                console.log(\"current_user de panier process\",response)\r\n                return response.json();\r\n            } else {\r\n                console.log(response,'Mauvaise réponse du réseau');\r\n            }\r\n            }).then(data => \r\n                {\r\n                  return(data)\r\n                }\r\n                )\r\n            .catch(function(error) {\r\n              console.log('Il y a eu un problème avec l\\'opération fetch: ' + error.message);\r\n            });\r\n            setU(data)\r\n          }\r\n          await t()\r\n          if(u.id!=undefined){\r\n              var url2 = `http://localhost:8000/panier/${props.user.id}/`\r\n    \r\n              let data2 = await fetch(url2).then(response => {\r\n              if(response.ok) {\r\n                  console.log(\"fetch panier panier process\")\r\n                  return response.json();\r\n              } else {\r\n                  console.log(response,'Mauvaise réponse du réseau');\r\n              }\r\n              }).then(data => \r\n                  {return data}\r\n                  )\r\n              .catch(function(error) {\r\n              console.log('Il y a eu un problème avec l\\'opération fetch: ' + error.message);\r\n              });\r\n              setPanieritems(data2)\r\n              setPanier(data2[0].panier)\r\n              console.log(\"ddata1151\",panierItems)\r\n          }\r\n        return () => {\r\n        };\r\n    }, [u.id]);\r\n\r\n\r\n    const goToPanier = () => {\r\n        setPanierStep(<Panier user={u} button={ btnPanier }/>)\r\n        setStepBarreBtn(btnPanier)\r\n    }\r\n    const goToLivraison = () => {\r\n        setPanierStep(<Livraison button={ btnLivraison }/>)\r\n        setStepBarreBtn(btnLivraison)\r\n        $(\"#stepPanier\").addClass('stepValide')\r\n        $(\"#panierToLivraison\").addClass(\"stepStateActive\")\r\n        $(\"#stepPanier\").removeClass(\"stepActive\")\r\n        setTimeout(() => $(\"#stepLivraison\").addClass('stepActive'),1000)\r\n    }\r\n    const goToChoixLivraison = async () => {\r\n        let inputs = new Object()\r\n        for(let i=0;i<$(\".inputform\").length;i++)\r\n            inputs[$(\".inputform\")[i].name] = $(\".inputform\")[i].value\r\n        var inputsForm = JSON.stringify(inputs);\r\n        console.log('entrer:::::',inputsForm)\r\n        let r = await getCSRF()\r\n        console.log(\"csrftoken OK\",r.csrfToken)\r\n        let csrftoken = r.csrfToken\r\n        let us =''\r\n        let t = async () => {\r\n            var url = \"http://localhost:8000/current_user/?format=json\"\r\n            let r = await getCSRF()\r\n            const csrftoken = r.csrfToken\r\n            let data = await fetch(url,{                \r\n              headers: {\r\n              'Accept': 'application/json',\r\n              'Content-Type': 'application/json',\r\n              'X-CSRFToken': csrftoken\r\n            }, \r\n            credentials: 'include',\r\n            }).then(response => {\r\n            if(response.ok) {\r\n                console.log(\"current_user de panier process\",response)\r\n                return response.json();\r\n            } else {\r\n                console.log(response,'Mauvaise réponse du réseau');\r\n            }\r\n            }).then(data => \r\n                {\r\n                  return(data)\r\n                }\r\n                )\r\n            .catch(function(error) {\r\n              console.log('Il y a eu un problème avec l\\'opération fetch: ' + error.message);\r\n            });\r\n            us=data\r\n          }\r\n          await t()\r\n        var url2 = \"http://localhost:8000/users/\"+us.id+\"/\"\r\n\r\n        await fetch(url2,{\r\n                method: 'POST',\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'Content-Type': 'application/json',\r\n                    'X-CSRFToken': csrftoken\r\n                  }, \r\n                  credentials: 'include',\r\n                  body: inputsForm\r\n              }).then(response => {\r\n            if(response.ok) {\r\n                console.log(\"fetchLogin\",response)\r\n                return response.json();\r\n            } else {\r\n                console.log(response,'Mauvaise réponse du réseau');\r\n            }\r\n            }).then(data => \r\n                {\r\n                    console.log(\"reponse\",data)\r\n                }\r\n                )\r\n            .catch(function(error) {\r\n            console.log('Il y a eu un problème avec l\\'opération fetch: ' + error.message);\r\n            });\r\n        setPanierStep(<Choixlivraison button={ btnChoixLivraison }/>)\r\n        setStepBarreBtn(btnChoixLivraison)\r\n        $(\"#stepLivraison\").addClass('stepValide')\r\n        $(\"#livraisonToChoixLivraison\").addClass(\"stepStateActive\")\r\n        $(\"#stepLivraison\").removeClass(\"stepActive\")\r\n        setTimeout(() => $(\"#stepChoixLivraison\").addClass('stepActive'),1000)\r\n    }\r\n    const goToRecap = async () => {\r\n        let inputs = new Object()\r\n        console.log('le choix de la livraison:',$(\".livChoixActive\")[0])\r\n        inputs[\"livraison\"] = $(\".livChoixActive\")[0].id\r\n        var inputsForm = JSON.stringify(inputs);\r\n        console.log('entrer:::::',inputsForm)\r\n        let r = await getCSRF()\r\n        console.log(\"csrftoken OK\",r.csrfToken)\r\n        let csrftoken = r.csrfToken\r\n        let us =''\r\n        let t = async () => {\r\n            var url = \"http://localhost:8000/current_user/?format=json\"\r\n            let r = await getCSRF()\r\n            const csrftoken = r.csrfToken\r\n            let data = await fetch(url,{                \r\n              headers: {\r\n              'Accept': 'application/json',\r\n              'Content-Type': 'application/json',\r\n              'X-CSRFToken': csrftoken\r\n            }, \r\n            credentials: 'include',\r\n            }).then(response => {\r\n            if(response.ok) {\r\n                console.log(\"current_user de panier process\",response)\r\n                return response.json();\r\n            } else {\r\n                console.log(response,'Mauvaise réponse du réseau');\r\n            }\r\n            }).then(data => \r\n                {\r\n                  return(data)\r\n                }\r\n                )\r\n            .catch(function(error) {\r\n              console.log('Il y a eu un problème avec l\\'opération fetch: ' + error.message);\r\n            });\r\n            us=data\r\n          }\r\n          await t()\r\n        var url2 = \"http://localhost:8000/choix-livraison/\"+us.id+\"/\"\r\n\r\n        await fetch(url2,{\r\n                method: 'POST',\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'Content-Type': 'application/json',\r\n                    'X-CSRFToken': csrftoken\r\n                  }, \r\n                  credentials: 'include',\r\n                  body: inputsForm\r\n              }).then(response => {\r\n            if(response.ok) {\r\n                console.log(\"fetchLogin\",response)\r\n                return response.json();\r\n            } else {\r\n                console.log(response,'Mauvaise réponse du réseau');\r\n            }\r\n            }).then(data => \r\n                {\r\n                    console.log(\"reponse\",data)\r\n                }\r\n                )\r\n            .catch(function(error) {\r\n            console.log('Il y a eu un problème avec l\\'opération fetch: ' + error.message);\r\n            });\r\n        setPanierStep(<Commanderecap button={ btnPayer }/>)\r\n        setStepBarreBtn(btnPayer)\r\n        $(\"#stepChoixLivraison\").addClass('stepValide')\r\n        $(\"#choixLivraisonToRecapCommande\").addClass(\"stepStateActive\")\r\n        $(\"#stepChoixLivraison\").removeClass(\"stepActive\")\r\n        setTimeout(() => $(\"#stepRecapCommande\").addClass('stepActive'),1000)\r\n    }\r\n    const btnPanier = (\r\n        <div className=\"w-100 d-flex align-items-center justify-content-center\">\r\n            <button className=\"produitBuyBtn\" onClick={() => goToLivraison()} >Valider mon panier</button>\r\n        </div>\r\n    )\r\n    const btnLivraison = (\r\n        <div className=\"w-100 d-flex align-items-center justify-content-center\">\r\n            <button className=\"produitBuyBtn\" onClick={() => goToChoixLivraison()} >Confirmer les informations</button>\r\n        </div>\r\n    )\r\n    const btnChoixLivraison = (\r\n        <div className=\"w-100 d-flex align-items-center justify-content-center\">\r\n            <button className=\"produitBuyBtn\" onClick={() => goToRecap()} >Choisir ce mode de livraison</button>\r\n        </div>\r\n    )\r\n    const initialOptions = {\r\n        \"client-id\": \"ASFEAZSj8J9EWXzFzTRIqT9Frn3FONIEgXx87hRWxhJyCSv7_SshAkT1TW0OSjTySDAb4cEXdVW7olO3\",\r\n        currency: \"EUR\",\r\n    };\r\n    console.log('priiiiiiiiiiiiiiiiiiiiiiiiixxxx',panier)\r\n    const btnPayer = (\r\n        <div className=\"w-100 d-flex align-items-center justify-content-center\" onClick={(e) => props.showHideModal(e,\r\n        \r\n            <div style={{maxWidth:'400px',width:'100vh'}}>\r\n            <PayPalScriptProvider options={initialOptions}>\r\n                <PayPalButtons style={{ \r\n                    layout: \"vertical\", \r\n                    color: 'black',\r\n                    width: \"500px\",   \r\n                    Tagline: false \r\n                }}\r\n                createOrder={(data, actions) => {\r\n                    return actions.order.create({\r\n                        purchase_units: [\r\n                            {\r\n                                amount: {\r\n                                    value: panier.totalaveclivraison,\r\n                                },\r\n                            },\r\n                        ],\r\n                    });\r\n                }}\r\n                onApprove={(data, actions) => {\r\n                    return actions.order.capture().then((details) => {\r\n                        const name = details.payer.name.given_name;\r\n                        alert(`Transaction completed by ${name}`);\r\n                    });\r\n                }} />\r\n            </PayPalScriptProvider>\r\n            </div>\r\n        \r\n        )}>\r\n            <button className=\"produitBuyBtn\">Payement</button>\r\n        </div>\r\n    )\r\n    const [panierStep,setPanierStep] = useState(<Panier user={u} button={btnPanier}/>)\r\n    const [stepBarreBtn,setStepBarreBtn] = useState(btnPanier)\r\n    return (\r\n        <>   \r\n        <div className=\"main w-100\">            \r\n          <Stepbarre toPanier={goToPanier} toLivraison={goToLivraison} toChoixLivraison={goToChoixLivraison} toCommandeRecap={goToRecap}  button={stepBarreBtn}/>\r\n          <div className=\"w-100 justify-content-center\">\r\n          {panierStep}\r\n          </div>\r\n        </div> \r\n        </>\r\n    );\r\n}\r\n\r\nexport default Panierprocess;\r\n"]},"metadata":{},"sourceType":"module"}