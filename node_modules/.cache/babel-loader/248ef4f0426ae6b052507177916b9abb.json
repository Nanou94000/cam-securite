{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Nourou\\\\Documents\\\\Developpement WEB\\\\CamSecurite-django-react\\\\frontend\\\\src\\\\pages\\\\components\\\\ProduitAchat.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport Avis from './Avis';\nimport $ from 'jquery';\nimport expedition24 from '../assets/img/expedition24.png';\nimport france from '../assets/img/france.png';\nimport paiement from '../assets/img/paiement.jpg';\nimport sav from '../assets/img/sav.png';\nimport Produitajoute from './ProduitAjoute';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Produitachat = props => {\n  _s();\n\n  const [produit_json, setProduit] = useState(\"\");\n  const [produitimages, setProduitimages] = useState([\"\"]);\n  const [produitImage, setProduitImage] = useState('');\n  const [u, setU] = useState(props.user);\n  console.log('u u 168161', u);\n\n  const getCSRF = async () => {\n    var url2 = \"http://localhost:8000/csrf/\";\n    let r = '';\n    await fetch(url2, {\n      credentials: 'include'\n    }).then(response => {\n      if (response.ok) {\n        console.log(\"fetchCSRF\");\n        r = response.json();\n      } else {\n        console.log(response, 'Mauvaise réponse du réseau');\n      }\n    }).catch(function (error) {\n      console.log('Il y a eu un problème avec l\\'opération fetch: ' + error.message);\n    });\n    return r;\n  };\n\n  console.log('props ppp produit', props);\n\n  const acheter = async e => {\n    e.preventDefault();\n    let btn = e.target;\n    btn.innerHTML = \"\";\n    btn.classList.add(\"btnLoading\");\n    var l = document.createElement('div');\n    l.setAttribute(\"class\", \"loader1\");\n    var b = document.createElement('div');\n    b.setAttribute(\"class\", \"box\");\n    b.appendChild(l);\n    console.log(b);\n    btn.appendChild(b);\n    btn.disabled = true;\n    let inputsForm = new Object();\n    console.log(u);\n\n    if (u != undefined) {\n      inputsForm['quantite'] = $(\"#qte\")[0].value;\n      inputsForm['iduser'] = String(u.id);\n      inputsForm['idproduit'] = String(produit_json.id);\n      inputsForm = JSON.stringify(inputsForm);\n      console.log('ajoutpanier', inputsForm);\n    }\n\n    if (u == undefined) {\n      console.log(\"pas d'user\");\n      let produit = new Object();\n      let m = 'p' + String(produit_json.id);\n      produit[m] = new Object();\n      produit[m]['quantite'] = '1';\n      produit[m]['id'] = String(produit_json.id);\n      produit = JSON.stringify(produit);\n      let p = localStorage.getItem('panier');\n      console.log('panier', p);\n      var obj = JSON.parse(p);\n      console.log('panier', produit_json);\n\n      if (p != null || p != undefined) {\n        console.log(\"pppppppppppppppppppppppppppppppp\");\n\n        for (var i in obj) console.log(obj[i]);\n\n        if (obj[i].id == produit_json.id) console.log(\"produit trouvé\");else obj[m] = new Object();\n        obj[m]['quantite'] = '1';\n        obj[m]['id'] = String(produit_json.id);\n        localStorage.setItem('panier', JSON.stringify(obj));\n      } else {\n        localStorage.setItem('panier', produit);\n      }\n\n      setTimeout(() => {\n        btn.innerHTML = \"Acheter\";\n        btn.classList.remove(\"btnLoading\");\n        props.showHideModal(e, /*#__PURE__*/_jsxDEV(Produitajoute, {\n          image: props.image,\n          nom: props.nom\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 40\n        }, this));\n      }, 2000);\n      btn.disabled = false;\n    } else {\n      var url2 = \"http://localhost:8000/ajouter_produit/\";\n      await fetch(url2, {\n        method: 'POST',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: inputsForm\n      }).then(response => {\n        if (response.ok) {\n          console.log(\"fetchAddProduit\");\n          return response.json();\n        } else {\n          console.log(response, 'Mauvaise réponse du réseau pas d ajout');\n        }\n      }).then(data => {\n        console.log(data);\n      }).catch(function (error) {\n        console.log('Il y a eu un problème avec l\\'opération fetch: ' + error.message);\n      });\n      setTimeout(() => {\n        btn.innerHTML = \"Acheter\";\n        btn.classList.remove(\"btnLoading\");\n        props.showHideModal(e, /*#__PURE__*/_jsxDEV(Produitajoute, {\n          image: props.image,\n          nom: props.nom\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 36\n        }, this));\n      }, 2000);\n      btn.disabled = false;\n    }\n  };\n\n  useEffect(() => {\n    let t = async () => {\n      var url = \"http://localhost:8000/current_user/?format=json\";\n      let r = await getCSRF();\n      const csrftoken = r.csrfToken;\n      let data = await fetch(url, {\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json',\n          'X-CSRFToken': csrftoken\n        },\n        credentials: 'include'\n      }).then(response => {\n        if (response.ok) {\n          console.log(\"current_user ttt\", response);\n          return response.json();\n        } else {\n          console.log(response, 'Mauvaise réponse du réseau');\n        }\n      }).then(data => {\n        return data;\n      }).catch(function (error) {\n        console.log('Il y a eu un problème avec l\\'opération fetch: ' + error.message);\n      });\n      setU(data.user);\n    };\n\n    t();\n    return () => {};\n  }, [props.user]);\n\n  let initNav = async () => {\n    const lien = document.URL;\n    var produitId = lien.split('/')[lien.split('/').length - 1];\n    var url = \"http://localhost:8000/produit/\" + produitId;\n    await fetch(url).then(response => {\n      if (response.ok) {\n        console.log(\"fetch\");\n        return response.json();\n      } else {\n        console.log(response, 'Mauvaise réponse du réseau');\n      }\n    }).then(data => {\n      let imgs = [];\n\n      if (!data.image1.includes('null')) {\n        imgs.push(data.image1);\n      }\n\n      if (!data.image2.includes('null')) {\n        imgs.push(data.image2);\n      }\n\n      if (!data.image3.includes('null')) {\n        imgs.push(data.image3);\n      }\n\n      if (!data.image4.includes('null')) {\n        imgs.push(data.image4);\n      }\n\n      if (!data.image5.includes('null')) {\n        imgs.push(data.image5);\n      }\n\n      if (!data.image6.includes('null')) {\n        imgs.push(data.image6);\n      }\n\n      console.log(imgs);\n      setProduitimages(imgs);\n      setProduitImage(imgs[0]);\n      $(\".produitBuyImageSmall\").addClass(\"imageSelectionne\");\n      setProduit(data);\n    }).catch(function (error) {\n      console.log('Il y a eu un problème avec l\\'opération fetch: ' + error.message);\n    });\n    var url2 = \"http://localhost:8000/caracteristiques/\" + produitId + \"/\";\n    let data = await fetch(url2).then(res => {\n      if (res.ok) {\n        console.log(\"fetch\");\n        return res.json();\n      } else {\n        console.log(res, 'Mauvaise réponse du réseau');\n      }\n    }).then(data => {\n      return data;\n    });\n    console.log('daaaaaaaaaaaaaaaaaaaaaaaaaaaaataaaaaaaaaaaaaaaaaaaaa', data);\n    let c = [];\n    data.forEach(d => c.push(d.caracteristique));\n    setCaracteristiques(c);\n  };\n\n  const once = {\n    once: true\n  };\n  useEffect(() => {\n    document.getElementById(\"navTop\").addEventListener('loaded', initNav());\n    return () => {};\n  }, []);\n  /*const produit_json = {\r\n      nom: \"Caméra réveil\",\r\n      sousNom: \"Contrôler son sommeil mais pas que !\",\r\n      prix: 165,\r\n      descriptionCourte: \"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Minima laborum velit magni voluptate sequi, quia est minus. Sequi ipsam tempore, dolore illum earum quod, eveniet ea numquam eligendi dicta tenetur.\",\r\n      descriptionComplete: \"lorem100 Lorem ipsum dolor sit, amet consectetur adipisicing elit. Perferendis debitis numquam aliquam dolores tempora sint ab dicta beatae ad fuga, cupiditate non dolorum ullam autem recusandae nostrum perspiciatis corrupti temporibus, similique pariatur neque! Incidunt minima repellat quia voluptates error? Iste nihil, hic iure maiores animi possimus, sint porro beatae mollitia quos nam corrupti consectetur quas? Cupiditate blanditiis nemo perspiciatis magni placeat cumque. Fugiat omnis neque minima dicta animi atque aut placeat cupiditate! Vero quaerat omnis provident explicabo amet cumque sequi, esse quas ullam incidunt inventore tempora enim at impedit odio reiciendis dicta, iusto perferendis libero nam assumenda numquam. Saepe nulla nisi, voluptatum debitis quibusdam nam officia dolor sed ipsum laborum eum nesciunt aliquam, fugiat harum esse totam placeat, rerum cupiditate ducimus beatae quidem? Harum, veritatis ut? Non adipisci nobis placeat, iusto totam quia deleniti! Iste ducimus soluta, aliquid asperiores itaque dolores consequatur ab quaerat dolorem magni voluptatem natus nesciunt repellendus voluptatum eveniet non quibusdam! Eum illum, nihil dolorum quisquam facilis tempore necessitatibus reiciendis amet eligendi id voluptatem deleniti itaque laborum accusamus, minima maxime, quasi iure! Neque magni dolores incidunt eos blanditiis consequatur beatae quod porro id voluptate eaque est asperiores facere reiciendis eligendi eum minima vitae atque, repellat sed commodi distinctio. Adipisci praesentium vel eaque, minus tenetur cum quisquam voluptatibus non aperiam nostrum doloribus, sequi veniam! A, recusandae. Pariatur necessitatibus explicabo ut tempora nostrum? Doloribus quod harum iusto id maiores quae enim corrupti saepe beatae! Minus nostrum minima distinctio rem pariatur recusandae modi, quasi tempora dolorum accusamus odio magni praesentium autem necessitatibus eos, consequatur quaerat sit accusantium provident maxime. Velit a voluptas, asperiores reiciendis totam fuga, blanditiis veniam eaque minima rerum sit quos illo. Placeat totam laudantium neque? Nemo ipsum placeat facilis quasi eos magni, aspernatur corporis, dolor earum ipsa ratione rerum eveniet omnis amet magnam commodi aliquam, atque exercitationem?\",\r\n      caracteristiques: [\r\n          { nom: \"Résolution\", valeur: \"4K (4320px)\" },\r\n          { nom: \"Résolution\", valeur: \"4K (4320px)\" },\r\n          { nom: \"Résolution\", valeur: \"4K (4320px)\" },\r\n          { nom: \"Résolution\", valeur: \"4K (4320px)\" },\r\n          { nom: \"Résolution\", valeur: \"4K (4320px)\" },\r\n          { nom: \"Résolution\", valeur: \"4K (4320px)\" },\r\n          { nom: \"Résolution\", valeur: \"4K (4320px)\" },\r\n      ],\r\n      images: [\r\n          { url: \"https://www.tomsguide.fr/content/uploads/sites/2/cache/2021/11/nest-indoor/3552683667.png\", descriptionComplete: \"4K (4320px)\" },\r\n          { url: \"https://i01.appmifile.com/v1/MI_18455B3E4DA706226CF7535A58E875F0267/pms_1635150514.11887024.png?thumb=1&w=421&h=421&width=421&height=421\", descriptionComplete: \"4K (4320px)\" },\r\n          { url: \"https://www.tomsguide.fr/content/uploads/sites/2/cache/2021/11/nest-indoor/3552683667.png\", descriptionComplete: \"4K (4320px)\" },\r\n          { url: \"https://www.tomsguide.fr/content/uploads/sites/2/cache/2021/11/nest-indoor/3552683667.png\", descriptionComplete: \"4K (4320px)\" },\r\n          { url: \"https://www.tomsguide.fr/content/uploads/sites/2/cache/2021/11/nest-indoor/3552683667.png\", descriptionComplete: \"4K (4320px)\" },\r\n          { url: \"https://www.tomsguide.fr/content/uploads/sites/2/cache/2021/11/nest-indoor/3552683667.png\", descriptionComplete: \"4K (4320px)\" },\r\n          { url: \"https://www.tomsguide.fr/content/uploads/sites/2/cache/2021/11/nest-indoor/3552683667.png\", descriptionComplete: \"4K (4320px)\" },\r\n      ],\r\n      commentaires: [\r\n          {\r\n              note: 4,\r\n              titre: \"Titre de l'avis\",\r\n              date: \"le 13 janvier 2022 à 08:19\",\r\n              contenu: \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Sint praesentium quibusdam architecto!\",\r\n              user: {\r\n                  username: \"Nanou\"\r\n              }\r\n          }\r\n      ]\r\n    }*/\n\n  const changeImage = (e, i) => {\n    $(\".produitBuyImageSmall\").removeClass(\"imageSelectionne\");\n    e.target.classList.add(\"imageSelectionne\");\n    setProduitImage(i);\n  };\n\n  const produitImages = produitimages.map(i => /*#__PURE__*/_jsxDEV(\"li\", {\n    className: \"produitBuyImageInList bloc\",\n    onClick: e => changeImage(e, i),\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: i,\n        className: \"produitBuyImageSmall\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 276,\n    columnNumber: 9\n  }, this));\n  /*const caracteristiques = produit_json.caracteristiques.map(c =>\r\n      <div className=\"caracteristique\">\r\n          <span className=\"caracteristiqueTitre\">\r\n              {c.nom}\r\n          </span>\r\n          <span className=\"caracteristiqueValeur\">\r\n              {c.valeur}\r\n          </span>\r\n      </div>\r\n  )*/\n\n  const [caracteristiques, setCaracteristiques] = useState('');\n\n  const zoomImg = e => {\n    $(\".produitBuyImageShow\").addClass(\"td0\");\n    $(\".produitBuyImageShow\").on('mousemove', e => {\n      var X = -e.pageX + $(\".imgCont\").offset().left + 0.5 * $(\".imgCont\").width();\n      var Y = -e.pageY + $(\".imgCont\").offset().top + 0.5 * $(\".imgCont\").height();\n      $(\".produitBuyImageShow\").css(\"object-position\", `${X}px ${Y}px`);\n      console.log(X, Y);\n      console.log($(\".imgCont\").offset().left + $(\".imgCont\").width());\n    });\n  };\n\n  const leaveImg = e => {\n    $(\".produitBuyImageShow\").removeClass(\"td0\");\n    $(\".produitBuyImageShow\").css(\"object-position\", `center`);\n  };\n  /*const avis = produit_json.commentaires.map(a => <Avis note={a.note} titre={a.titre} date={a.date} user={a.user.username} contenu={a.contenu} />\r\n  )*/\n\n\n  const avis = \" Aucun avis a pour le moment été posté pour ce produit\";\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-100 main\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"produitBuy d-flex flex-column flex-lg-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"produitBuyImageContainer w-100 \",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex justify-content-center align-items-center w-100\",\n            children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"produitBuyImageList\",\n              children: produitImages\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 315,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bloc\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"content border-start overflow-hidden imgCont\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: produitImage,\n                  className: \"produitBuyImageShow\",\n                  onMouseLeave: e => leaveImg(e),\n                  onMouseOver: e => zoomImg(e)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 320,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 319,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex justify-content-center align-items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"produitBuyDetail\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: france,\n                alt: \"\",\n                className: \"detailImage\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 326,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"detailText\",\n                children: \"Stock en France\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 327,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 325,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"produitBuyDetail\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: expedition24,\n                alt: \"\",\n                className: \"detailImage\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 332,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"detailText\",\n                children: \"Exp\\xE9dition en 24H\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 333,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"produitBuyDetail\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: paiement,\n                alt: \"\",\n                className: \"detailImage\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 338,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"detailText\",\n                children: \"Paiement s\\xE9curis\\xE9\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 339,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"produitBuyDetail\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: sav,\n                alt: \"\",\n                className: \"detailImage\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 344,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"detailText\",\n                children: \"SAV disponible et r\\xE9actif\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 345,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"produitBuyDescription w-100\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"produitBuyBuy\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex flex-column w-100\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"produitBuyNom\",\n                children: produit_json.nom\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 354,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"produitBuyPrix\",\n                children: [produit_json.prix, \" \\u20AC\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 357,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex w-100 justify-content-end\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"\",\n                className: \"d-flex flex-column flex-md-row justify-content-center align-items-center\",\n                children: [\"Quantit\\xE9\", /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  className: \"ProduitBuyQte\",\n                  defaultValue: 1,\n                  placeholder: \"1\",\n                  id: \"qte\",\n                  name: \"tentacles\",\n                  min: \"1\",\n                  max: produit_json.stock\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 364,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 362,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"produitBuyBtn\",\n                onClick: e => acheter(e),\n                children: \"Ajouter au panier\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 367,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"produitBuySousNom\",\n            children: produit_json.sousNom\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 372,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"produitBuyDescriptionCourte mt-2\",\n            children: produit_json.descriptionCourte\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"produitBuyAutreOption\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 378,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"produitBuyCaracteristiques\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"caracteristiquesTitre\",\n              children: \"Caracteristiques technique\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 382,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"caracteristiques\",\n              children: caracteristiques != '' ? caracteristiques.map(c => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"caracteristique\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"caracteristiqueTitre\",\n                  children: c.nom\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 391,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"caracteristiqueValeur\",\n                  children: c.valeur\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 394,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 390,\n                columnNumber: 37\n              }, this)) : \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 385,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 381,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"produitBuyDescriptionLongue\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"caracteristiquesTitre\",\n              children: \"Description compl\\xE8te\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 404,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"descriptionLongue mt-2\",\n              children: produit_json.descriptionLongue\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 407,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"produitBuyCommentaire\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"caracteristiquesTitre\",\n          children: \"Une question sur le produit ?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          action: \"\",\n          className: \"d-flex w-100 commentPost\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-100 d-flex flex-column p-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n              name: \"\",\n              id: \"\",\n              cols: \"30\",\n              rows: \"2\",\n              className: \"commentInput mb-2\",\n              placeholder: \"R\\xE9diger une question concernant le produit\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 419,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              className: \"commentInput \",\n              placeholder: \"Entrer votre email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 420,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 418,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"commentBtn m-2\",\n            children: \"Poser\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 422,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 417,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"commentaires\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"commentaire\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 427,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 426,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 413,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"produitBuyCommentaire\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"caracteristiquesTitre\",\n          children: \"Avis sur le produit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 434,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"avisList\",\n          children: avis\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 437,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 433,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 310,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Produitachat, \"72ifEZAIekSREZCILNjBjMVnu0M=\");\n\n_c = Produitachat;\nexport default Produitachat;\n\nvar _c;\n\n$RefreshReg$(_c, \"Produitachat\");","map":{"version":3,"sources":["C:/Users/Nourou/Documents/Developpement WEB/CamSecurite-django-react/frontend/src/pages/components/ProduitAchat.js"],"names":["React","useState","useEffect","Avis","$","expedition24","france","paiement","sav","Produitajoute","Produitachat","props","produit_json","setProduit","produitimages","setProduitimages","produitImage","setProduitImage","u","setU","user","console","log","getCSRF","url2","r","fetch","credentials","then","response","ok","json","catch","error","message","acheter","e","preventDefault","btn","target","innerHTML","classList","add","l","document","createElement","setAttribute","b","appendChild","disabled","inputsForm","Object","undefined","value","String","id","JSON","stringify","produit","m","p","localStorage","getItem","obj","parse","i","setItem","setTimeout","remove","showHideModal","image","nom","method","headers","body","data","t","url","csrftoken","csrfToken","initNav","lien","URL","produitId","split","length","imgs","image1","includes","push","image2","image3","image4","image5","image6","addClass","res","c","forEach","d","caracteristique","setCaracteristiques","once","getElementById","addEventListener","changeImage","removeClass","produitImages","map","caracteristiques","zoomImg","on","X","pageX","offset","left","width","Y","pageY","top","height","css","leaveImg","avis","prix","stock","sousNom","descriptionCourte","valeur","descriptionLongue"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Avis from './Avis';\r\nimport $ from 'jquery';\r\nimport expedition24 from '../assets/img/expedition24.png'\r\nimport france from '../assets/img/france.png'\r\nimport paiement from '../assets/img/paiement.jpg'\r\nimport sav from '../assets/img/sav.png'\r\nimport Produitajoute from './ProduitAjoute';\r\n\r\nconst Produitachat = (props) => {\r\n    const [produit_json, setProduit] = useState(\"\")\r\n    const [produitimages, setProduitimages] = useState([\"\"])\r\n    const [produitImage, setProduitImage] = useState('')\r\n    const [u,setU] = useState(props.user)\r\n    console.log('u u 168161',u)\r\n  const getCSRF = async () => {\r\n    var url2 = \"http://localhost:8000/csrf/\"\r\n    let r = '' \r\n    await fetch(url2, {\r\n        credentials: 'include',\r\n      }).then(response => {\r\n        if(response.ok) {\r\n            console.log(\"fetchCSRF\")\r\n            r = response.json();\r\n        } else {\r\n            console.log(response,'Mauvaise réponse du réseau');\r\n        }\r\n        })\r\n        .catch(function(error) {\r\n        console.log('Il y a eu un problème avec l\\'opération fetch: ' + error.message);\r\n        });\r\n    return r\r\n}\r\n    console.log('props ppp produit',props)\r\n    const acheter = async (e) => {\r\n        e.preventDefault();\r\n        let btn = e.target\r\n        btn.innerHTML=\"\"\r\n        btn.classList.add(\"btnLoading\")\r\n        var l = document.createElement('div') \r\n        l.setAttribute(\"class\",\"loader1\")\r\n        var b = document.createElement('div') \r\n        b.setAttribute(\"class\",\"box\")\r\n        b.appendChild(l)\r\n        console.log(b)\r\n        btn.appendChild(b);\r\n        btn.disabled=true\r\n        let inputsForm = new Object\r\n        console.log(u)\r\n        if(u!=undefined){            \r\n            inputsForm['quantite'] = $(\"#qte\")[0].value\r\n            inputsForm['iduser'] = String(u.id)\r\n            inputsForm['idproduit'] = String(produit_json.id)\r\n            inputsForm = JSON.stringify(inputsForm);\r\n            console.log('ajoutpanier',inputsForm)\r\n        }\r\n        if(u==undefined){            \r\n            console.log(\"pas d'user\")\r\n            let produit = new Object\r\n            let m = 'p'+String(produit_json.id)\r\n            produit[m] = new Object\r\n            produit[m]['quantite'] = '1'\r\n            produit[m]['id'] = String(produit_json.id)\r\n            produit = JSON.stringify(produit);\r\n            let p = localStorage.getItem('panier')\r\n            console.log('panier',p)\r\n            var obj = JSON.parse(p);\r\n            console.log('panier',produit_json)\r\n            \r\n            if(p!=null || p!=undefined){\r\n                console.log(\"pppppppppppppppppppppppppppppppp\")\r\n                for(var i in obj)\r\n                    console.log(obj[i]);\r\n                    if(obj[i].id == produit_json.id)\r\n                        console.log(\"produit trouvé\")\r\n                    else\r\n                        obj[m] = new Object\r\n                        obj[m]['quantite'] = '1'\r\n                        obj[m]['id'] = String(produit_json.id)\r\n                        localStorage.setItem('panier',JSON.stringify(obj))\r\n\r\n            }\r\n            else{\r\n                localStorage.setItem('panier',produit)\r\n            }\r\n            setTimeout(() => {\r\n                btn.innerHTML=\"Acheter\"\r\n                btn.classList.remove(\"btnLoading\")\r\n                props.showHideModal(e, <Produitajoute image={props.image} nom={props.nom} />)\r\n            },2000)\r\n    \r\n            btn.disabled=false\r\n        }\r\n        else{\r\n\r\n        var url2 = \"http://localhost:8000/ajouter_produit/\"\r\n\r\n        await fetch(url2,{\r\n            method: 'POST',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json',\r\n              }, \r\n              body: inputsForm\r\n          }).then(response => {\r\n        if(response.ok) {\r\n            console.log(\"fetchAddProduit\")\r\n            return response.json();\r\n        } else {\r\n            console.log(response,'Mauvaise réponse du réseau pas d ajout');\r\n        }\r\n        }).then(data => \r\n            {\r\n                console.log(data)\r\n            }\r\n            )\r\n        .catch(function(error) {\r\n        console.log('Il y a eu un problème avec l\\'opération fetch: ' + error.message);\r\n        });\r\n        setTimeout(() => {\r\n            btn.innerHTML=\"Acheter\"\r\n            btn.classList.remove(\"btnLoading\")\r\n            props.showHideModal(e, <Produitajoute image={props.image} nom={props.nom} />)\r\n        },2000)\r\n\r\n        btn.disabled=false\r\n    }\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        let t = async () => {\r\n            var url = \"http://localhost:8000/current_user/?format=json\"\r\n            let r = await getCSRF()\r\n            const csrftoken = r.csrfToken\r\n            let data = await fetch(url,{                \r\n              headers: {\r\n              'Accept': 'application/json',\r\n              'Content-Type': 'application/json',\r\n              'X-CSRFToken': csrftoken\r\n            }, \r\n            credentials: 'include',\r\n            }).then(response => {\r\n            if(response.ok) {\r\n                console.log(\"current_user ttt\",response)\r\n                return response.json();\r\n            } else {\r\n                console.log(response,'Mauvaise réponse du réseau');\r\n            }\r\n            }).then(data => \r\n                {\r\n                  return(data)\r\n                }\r\n                )\r\n            .catch(function(error) {\r\n              console.log('Il y a eu un problème avec l\\'opération fetch: ' + error.message);\r\n            });\r\n            setU(data.user)\r\n          }\r\n            t()\r\n\r\n        return () => {\r\n        };\r\n    }, [props.user]);\r\n\r\n    let initNav = async () => {\r\n        const lien = document.URL\r\n        var produitId = lien.split('/')[lien.split('/').length-1]\r\n        var url = \"http://localhost:8000/produit/\"+produitId\r\n\r\n        await fetch(url).then(response => {\r\n            if(response.ok) {\r\n                console.log(\"fetch\")\r\n                return response.json();\r\n            } else {\r\n                console.log(response,'Mauvaise réponse du réseau');\r\n            }\r\n            }).then(data =>{\r\n                let imgs = []\r\n                if(!data.image1.includes('null')){\r\n                    imgs.push(data.image1)\r\n                }\r\n                if(!data.image2.includes('null')){\r\n                    imgs.push(data.image2)\r\n                }\r\n                if(!data.image3.includes('null')){\r\n                    imgs.push(data.image3)\r\n                }\r\n                if(!data.image4.includes('null')){\r\n                    imgs.push(data.image4)\r\n                }\r\n                if(!data.image5.includes('null')){\r\n                    imgs.push(data.image5)\r\n                }\r\n                if(!data.image6.includes('null')){\r\n                    imgs.push(data.image6)\r\n                }\r\n                console.log(imgs)\r\n                setProduitimages(imgs)\r\n                setProduitImage(imgs[0])\r\n                $(\".produitBuyImageSmall\").addClass(\"imageSelectionne\")\r\n                setProduit(data)\r\n            })\r\n            .catch(function(error) {\r\n            console.log('Il y a eu un problème avec l\\'opération fetch: ' + error.message);\r\n            });\r\n        \r\n        var url2 = \"http://localhost:8000/caracteristiques/\"+produitId+\"/\"\r\n        let data = await fetch(url2).then(\r\n            res => {\r\n            if(res.ok) {\r\n                console.log(\"fetch\")\r\n                return res.json();\r\n            } else {\r\n                console.log(res,'Mauvaise réponse du réseau');\r\n            }}\r\n        ).then(data =>{\r\n            return data\r\n        })\r\n        console.log('daaaaaaaaaaaaaaaaaaaaaaaaaaaaataaaaaaaaaaaaaaaaaaaaa',data)\r\n        let c = []\r\n        data.forEach(d => c.push(d.caracteristique))\r\n        setCaracteristiques(c)            \r\n    }\r\n    const once = {\r\n        once : true\r\n    };\r\n    useEffect(() => {\r\n        document.getElementById(\"navTop\").addEventListener('loaded',initNav())\r\n        return () => {\r\n        };\r\n    }, []);\r\n    /*const produit_json = {\r\n        nom: \"Caméra réveil\",\r\n        sousNom: \"Contrôler son sommeil mais pas que !\",\r\n        prix: 165,\r\n        descriptionCourte: \"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Minima laborum velit magni voluptate sequi, quia est minus. Sequi ipsam tempore, dolore illum earum quod, eveniet ea numquam eligendi dicta tenetur.\",\r\n        descriptionComplete: \"lorem100 Lorem ipsum dolor sit, amet consectetur adipisicing elit. Perferendis debitis numquam aliquam dolores tempora sint ab dicta beatae ad fuga, cupiditate non dolorum ullam autem recusandae nostrum perspiciatis corrupti temporibus, similique pariatur neque! Incidunt minima repellat quia voluptates error? Iste nihil, hic iure maiores animi possimus, sint porro beatae mollitia quos nam corrupti consectetur quas? Cupiditate blanditiis nemo perspiciatis magni placeat cumque. Fugiat omnis neque minima dicta animi atque aut placeat cupiditate! Vero quaerat omnis provident explicabo amet cumque sequi, esse quas ullam incidunt inventore tempora enim at impedit odio reiciendis dicta, iusto perferendis libero nam assumenda numquam. Saepe nulla nisi, voluptatum debitis quibusdam nam officia dolor sed ipsum laborum eum nesciunt aliquam, fugiat harum esse totam placeat, rerum cupiditate ducimus beatae quidem? Harum, veritatis ut? Non adipisci nobis placeat, iusto totam quia deleniti! Iste ducimus soluta, aliquid asperiores itaque dolores consequatur ab quaerat dolorem magni voluptatem natus nesciunt repellendus voluptatum eveniet non quibusdam! Eum illum, nihil dolorum quisquam facilis tempore necessitatibus reiciendis amet eligendi id voluptatem deleniti itaque laborum accusamus, minima maxime, quasi iure! Neque magni dolores incidunt eos blanditiis consequatur beatae quod porro id voluptate eaque est asperiores facere reiciendis eligendi eum minima vitae atque, repellat sed commodi distinctio. Adipisci praesentium vel eaque, minus tenetur cum quisquam voluptatibus non aperiam nostrum doloribus, sequi veniam! A, recusandae. Pariatur necessitatibus explicabo ut tempora nostrum? Doloribus quod harum iusto id maiores quae enim corrupti saepe beatae! Minus nostrum minima distinctio rem pariatur recusandae modi, quasi tempora dolorum accusamus odio magni praesentium autem necessitatibus eos, consequatur quaerat sit accusantium provident maxime. Velit a voluptas, asperiores reiciendis totam fuga, blanditiis veniam eaque minima rerum sit quos illo. Placeat totam laudantium neque? Nemo ipsum placeat facilis quasi eos magni, aspernatur corporis, dolor earum ipsa ratione rerum eveniet omnis amet magnam commodi aliquam, atque exercitationem?\",\r\n        caracteristiques: [\r\n            { nom: \"Résolution\", valeur: \"4K (4320px)\" },\r\n            { nom: \"Résolution\", valeur: \"4K (4320px)\" },\r\n            { nom: \"Résolution\", valeur: \"4K (4320px)\" },\r\n            { nom: \"Résolution\", valeur: \"4K (4320px)\" },\r\n            { nom: \"Résolution\", valeur: \"4K (4320px)\" },\r\n            { nom: \"Résolution\", valeur: \"4K (4320px)\" },\r\n            { nom: \"Résolution\", valeur: \"4K (4320px)\" },\r\n        ],\r\n        images: [\r\n            { url: \"https://www.tomsguide.fr/content/uploads/sites/2/cache/2021/11/nest-indoor/3552683667.png\", descriptionComplete: \"4K (4320px)\" },\r\n            { url: \"https://i01.appmifile.com/v1/MI_18455B3E4DA706226CF7535A58E875F0267/pms_1635150514.11887024.png?thumb=1&w=421&h=421&width=421&height=421\", descriptionComplete: \"4K (4320px)\" },\r\n            { url: \"https://www.tomsguide.fr/content/uploads/sites/2/cache/2021/11/nest-indoor/3552683667.png\", descriptionComplete: \"4K (4320px)\" },\r\n            { url: \"https://www.tomsguide.fr/content/uploads/sites/2/cache/2021/11/nest-indoor/3552683667.png\", descriptionComplete: \"4K (4320px)\" },\r\n            { url: \"https://www.tomsguide.fr/content/uploads/sites/2/cache/2021/11/nest-indoor/3552683667.png\", descriptionComplete: \"4K (4320px)\" },\r\n            { url: \"https://www.tomsguide.fr/content/uploads/sites/2/cache/2021/11/nest-indoor/3552683667.png\", descriptionComplete: \"4K (4320px)\" },\r\n            { url: \"https://www.tomsguide.fr/content/uploads/sites/2/cache/2021/11/nest-indoor/3552683667.png\", descriptionComplete: \"4K (4320px)\" },\r\n        ],\r\n        commentaires: [\r\n            {\r\n                note: 4,\r\n                titre: \"Titre de l'avis\",\r\n                date: \"le 13 janvier 2022 à 08:19\",\r\n                contenu: \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Sint praesentium quibusdam architecto!\",\r\n                user: {\r\n                    username: \"Nanou\"\r\n                }\r\n            }\r\n        ]\r\n\r\n    }*/\r\n    const changeImage = (e, i) => {\r\n        $(\".produitBuyImageSmall\").removeClass(\"imageSelectionne\")\r\n        e.target.classList.add(\"imageSelectionne\")\r\n        setProduitImage(i)\r\n    }\r\n    const produitImages = produitimages.map(i =>\r\n        <li className=\"produitBuyImageInList bloc\" onClick={(e) => changeImage(e, i)}>\r\n            <div className=\"content\">\r\n                <img src={i} className=\"produitBuyImageSmall\" />\r\n            </div>\r\n        </li>)\r\n    /*const caracteristiques = produit_json.caracteristiques.map(c =>\r\n        <div className=\"caracteristique\">\r\n            <span className=\"caracteristiqueTitre\">\r\n                {c.nom}\r\n            </span>\r\n            <span className=\"caracteristiqueValeur\">\r\n                {c.valeur}\r\n            </span>\r\n        </div>\r\n    )*/\r\n    const [caracteristiques,setCaracteristiques] = useState('')\r\n    const zoomImg = (e) => {   \r\n        $(\".produitBuyImageShow\").addClass(\"td0\")\r\n        $(\".produitBuyImageShow\").on('mousemove',(e)=>{\r\n              var X = -e.pageX + $(\".imgCont\").offset().left + 0.5*$(\".imgCont\").width();\r\n              var Y = -e.pageY + $(\".imgCont\").offset().top + 0.5*$(\".imgCont\").height();\r\n              $(\".produitBuyImageShow\").css(\"object-position\",`${X}px ${Y}px`)    \r\n              console.log(X,Y)\r\n              console.log($(\".imgCont\").offset().left + $(\".imgCont\").width())\r\n        })\r\n            };\r\n    const leaveImg = (e) => {\r\n        $(\".produitBuyImageShow\").removeClass(\"td0\")\r\n        $(\".produitBuyImageShow\").css(\"object-position\",`center`)\r\n    }\r\n    /*const avis = produit_json.commentaires.map(a => <Avis note={a.note} titre={a.titre} date={a.date} user={a.user.username} contenu={a.contenu} />\r\n    )*/\r\n    const avis =\" Aucun avis a pour le moment été posté pour ce produit\"\r\n    return (\r\n        <div className='w-100 main'>\r\n            <div>\r\n                <div className=\"produitBuy d-flex flex-column flex-lg-row\">\r\n                    <div className=\"produitBuyImageContainer w-100 \">\r\n                        <div className=\"d-flex justify-content-center align-items-center w-100\">\r\n                            <ul className=\"produitBuyImageList\">\r\n                                {produitImages}\r\n                            </ul>\r\n                            <div className=\"bloc\">\r\n                                <div className=\"content border-start overflow-hidden imgCont\">\r\n                                    <img src={produitImage} className=\"produitBuyImageShow\" onMouseLeave={(e) => leaveImg(e) } onMouseOver={(e) => zoomImg(e)} />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"d-flex justify-content-center align-items-center\">\r\n                            <div className=\"produitBuyDetail\">\r\n                                <img src={france} alt=\"\" className=\"detailImage\" />\r\n                                <span className=\"detailText\">\r\n                                    Stock en France\r\n                                </span>\r\n                            </div>\r\n                            <div className=\"produitBuyDetail\">\r\n                                <img src={expedition24} alt=\"\" className=\"detailImage\" />\r\n                                <span className=\"detailText\">\r\n                                    Expédition en 24H\r\n                                </span>\r\n                            </div>\r\n                            <div className=\"produitBuyDetail\">\r\n                                <img src={paiement} alt=\"\" className=\"detailImage\" />\r\n                                <span className=\"detailText\">\r\n                                    Paiement sécurisé\r\n                                </span>\r\n                            </div>\r\n                            <div className=\"produitBuyDetail\">\r\n                                <img src={sav} alt=\"\" className=\"detailImage\" />\r\n                                <span className=\"detailText\">\r\n                                    SAV disponible et réactif\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"produitBuyDescription w-100\">\r\n                        <div className=\"produitBuyBuy\">\r\n                            <div className=\"d-flex flex-column w-100\">\r\n                                <span className=\"produitBuyNom\">\r\n                                    {produit_json.nom}\r\n                                </span>\r\n                                <span className=\"produitBuyPrix\">\r\n                                    {produit_json.prix} €\r\n                                </span>\r\n                            </div>\r\n                            <div className=\"d-flex w-100 justify-content-end\">\r\n                                <label htmlFor=\"\" className=\"d-flex flex-column flex-md-row justify-content-center align-items-center\">\r\n                                    Quantité\r\n                                    <input type=\"number\" className=\"ProduitBuyQte\" defaultValue={1} placeholder=\"1\" id=\"qte\" name=\"tentacles\"\r\n                                        min=\"1\" max={produit_json.stock} />\r\n                                </label>\r\n                                <button className=\"produitBuyBtn\" onClick={(e) => acheter(e)}>\r\n                                    Ajouter au panier\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                        <span className=\"produitBuySousNom\">\r\n                            {produit_json.sousNom}\r\n                        </span>\r\n                        <p className=\"produitBuyDescriptionCourte mt-2\">\r\n                            {produit_json.descriptionCourte}\r\n                        </p>\r\n                        <div className=\"produitBuyAutreOption\">\r\n\r\n                        </div>\r\n                        <div className=\"produitBuyCaracteristiques\">\r\n                            <span className=\"caracteristiquesTitre\">\r\n                                Caracteristiques technique\r\n                            </span>\r\n                            <div className=\"caracteristiques\">\r\n                                {\r\n                                    caracteristiques != ''\r\n                                    ?\r\n                                    caracteristiques.map(c =>\r\n                                    <div className=\"caracteristique\">\r\n                                        <span className=\"caracteristiqueTitre\">\r\n                                            {c.nom}\r\n                                        </span>\r\n                                        <span className=\"caracteristiqueValeur\">\r\n                                            {c.valeur}\r\n                                        </span>\r\n                                    </div>)\r\n                                    :\r\n                                    \"\"\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"produitBuyDescriptionLongue\">\r\n                            <span className=\"caracteristiquesTitre\">\r\n                                Description complète\r\n                            </span>\r\n                            <div className=\"descriptionLongue mt-2\">\r\n                                {produit_json.descriptionLongue}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"produitBuyCommentaire\">\r\n                    <span className=\"caracteristiquesTitre\">\r\n                        Une question sur le produit ?\r\n                    </span>\r\n                    <form action=\"\" className=\"d-flex w-100 commentPost\">\r\n                        <div className=\"w-100 d-flex flex-column p-2\">\r\n                            <textarea name=\"\" id=\"\" cols=\"30\" rows=\"2\" className=\"commentInput mb-2\" placeholder=\"Rédiger une question concernant le produit\" required></textarea>\r\n                            <input type=\"email\" className=\"commentInput \" placeholder=\"Entrer votre email\" />\r\n                        </div>\r\n                        <button className=\"commentBtn m-2\">\r\n                            Poser\r\n                        </button>\r\n                    </form>\r\n                    <div className=\"commentaires\">\r\n                        <div className=\"commentaire\">\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"produitBuyCommentaire\">\r\n                    <span className=\"caracteristiquesTitre\">\r\n                        Avis sur le produit\r\n                    </span>\r\n                    <div className=\"avisList\">\r\n                        {avis}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Produitachat;\r\n"]},"metadata":{},"sourceType":"module"}