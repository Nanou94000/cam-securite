{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Nourou\\\\Documents\\\\Developpement WEB\\\\CamSecurite-django-react\\\\frontend\\\\src\\\\pages\\\\components\\\\ProduitAchat.js\",\n    _s = $RefreshSig$();\n\nimport parse from 'html-react-parser';\nimport React, { useState, useEffect } from 'react';\nimport Avis from './Avis';\nimport $ from 'jquery';\nimport expedition24 from '../assets/img/expedition24.png';\nimport france from '../assets/img/france.png';\nimport paiement from '../assets/img/paiement.jpg';\nimport sav from '../assets/img/sav.png';\nimport Produitajoute from './ProduitAjoute';\nimport { gsap } from \"gsap\";\nimport email from \"../assets/img/email.jpg\";\nimport erreur from \"../assets/img/erreur.jpg\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Produitachat = props => {\n  _s();\n\n  const [produit_json, setProduit] = useState(\"\");\n  const [panier, setPanier] = useState('');\n  const [produitimages, setProduitimages] = useState([\"\"]);\n  const [produitImage, setProduitImage] = useState( /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"loader\",\n    id: \"loader-2\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 18,\n    columnNumber: 54\n  }, this));\n  const [u, setU] = useState('');\n  console.log('u u 168161', u);\n\n  const getCSRF = async () => {\n    var url2 = \"http://localhost:8000/csrf/\";\n    let r = '';\n    await fetch(url2, {\n      credentials: 'include'\n    }).then(response => {\n      if (response.ok) {\n        console.log(\"fetchCSRF\");\n        r = response.json();\n      } else {\n        console.log(response, 'Mauvaise réponse du réseau');\n      }\n    }).catch(function (error) {\n      console.log('Il y a eu un problème avec l\\'opération fetch: ' + error.message);\n    });\n    return r;\n  };\n\n  console.log('props ppp produit', props);\n\n  const acheter = async e => {\n    e.preventDefault();\n    var url = \"http://localhost:8000/current_user/?format=json\";\n    let r = await getCSRF();\n    const csrftoken = r.csrfToken;\n    let us = await fetch(url, {\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'X-CSRFToken': csrftoken\n      },\n      credentials: 'include'\n    }).then(response => {\n      if (response.ok) {\n        console.log(\"current_user ttt\", response);\n        return response.json();\n      } else {\n        console.log(response, 'Mauvaise réponse du réseau');\n      }\n    }).then(data => {\n      return data;\n    }).catch(function (error) {\n      console.log('Il y a eu un problème avec l\\'opération fetch: ' + error.message);\n    });\n    setU(us);\n    let btn = e.target;\n    btn.innerHTML = \"\";\n    btn.classList.add(\"btnLoading\");\n    var l = document.createElement('div');\n    l.setAttribute(\"class\", \"loader1\");\n    var b = document.createElement('div');\n    b.setAttribute(\"class\", \"box\");\n    b.appendChild(l);\n    console.log(b);\n    btn.appendChild(b);\n    btn.disabled = true;\n    let inputsForm = new Object();\n    console.log(u);\n\n    if (us != 'rien trouvé') {\n      inputsForm['quantite'] = $(\"#qte\")[0].value;\n      inputsForm['iduser'] = String(u.id);\n      inputsForm['idproduit'] = String(produit_json.id);\n      inputsForm = JSON.stringify(inputsForm);\n      console.log('ajoutpanier', inputsForm);\n      var url2 = `http://localhost:8000/panierid/${us.user.id}/`;\n      let data2 = await fetch(url2).then(response => {\n        if (response.ok) {\n          console.log(\"fetch panier panier process\");\n          return response.json();\n        } else {\n          console.log(response, 'Mauvaise réponse du réseau');\n        }\n      }).then(data => {\n        return data;\n      }).catch(function (error) {\n        console.log('Il y a eu un problème avec l\\'opération fetch: ' + error.message);\n      });\n      setPanier(data2);\n    }\n\n    if (us == 'rien trouvé') {\n      console.log(\"pas d'user\");\n      let produit = new Object();\n      let m = 'p' + String(produit_json.id);\n      produit[m] = new Object();\n      produit[m]['quantite'] = '1';\n      produit[m]['id'] = String(produit_json.id);\n      produit = JSON.stringify(produit);\n      let p = localStorage.getItem('panier');\n      console.log('panier', p);\n      var obj = JSON.parse(p);\n      console.log('panier', produit_json);\n\n      if (p != null || p != undefined) {\n        console.log(\"pppppppppppppppppppppppppppppppp\");\n\n        for (var i in obj) console.log(obj[i]);\n\n        if (obj[i].id == produit_json.id) console.log(\"produit trouvé\");else obj[m] = new Object();\n        obj[m]['quantite'] = '1';\n        obj[m]['id'] = String(produit_json.id);\n        localStorage.setItem('panier', JSON.stringify(obj));\n      } else {\n        localStorage.setItem('panier', produit);\n      }\n\n      setTimeout(() => {\n        btn.innerHTML = \"Acheter\";\n        btn.classList.remove(\"btnLoading\");\n        props.showHideModal(e, /*#__PURE__*/_jsxDEV(Produitajoute, {\n          showHideModal: props.showHideModal,\n          image: produit_json.image1,\n          nom: produit_json.nom,\n          panier: 0,\n          quantite: 1,\n          montant: produit_json.prix\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 40\n        }, this));\n      }, 250);\n      btn.disabled = false;\n    } else {\n      var url2 = \"http://localhost:8000/ajouter_produit/\";\n      await fetch(url2, {\n        method: 'POST',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: inputsForm\n      }).then(response => {\n        if (response.ok) {\n          console.log(\"fetchAddProduit\");\n          return response.json();\n        } else {\n          console.log(response, 'Mauvaise réponse du réseau pas d ajout');\n        }\n      }).then(data => {\n        console.log(data);\n      }).catch(function (error) {\n        console.log('Il y a eu un problème avec l\\'opération fetch: ' + error.message);\n      });\n      setTimeout(() => {\n        btn.innerHTML = \"Acheter\";\n        btn.classList.remove(\"btnLoading\");\n        props.showHideModal(e, /*#__PURE__*/_jsxDEV(Produitajoute, {\n          showHideModal: props.showHideModal,\n          image: produit_json.image1,\n          nom: produit_json.nom,\n          panier: 0,\n          quantite: $(\"#qte\")[0].value,\n          montant: produit_json.prix\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 36\n        }, this));\n      }, 250);\n      btn.disabled = false;\n    }\n  };\n\n  useEffect(() => {\n    let t = async () => {\n      var url = \"http://localhost:8000/current_user/?format=json\";\n      let r = await getCSRF();\n      const csrftoken = r.csrfToken;\n      let data = await fetch(url, {\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json',\n          'X-CSRFToken': csrftoken\n        },\n        credentials: 'include'\n      }).then(response => {\n        if (response.ok) {\n          console.log(\"current_user ttt\", response);\n          return response.json();\n        } else {\n          console.log(response, 'Mauvaise réponse du réseau');\n        }\n      }).then(data => {\n        return data;\n      }).catch(function (error) {\n        console.log('Il y a eu un problème avec l\\'opération fetch: ' + error.message);\n      });\n      setU(data.user);\n    };\n\n    t();\n    return () => {};\n  }, [props.user]);\n\n  let initNav = async () => {\n    const lien = document.URL;\n    var produitId = lien.split('/')[lien.split('/').length - 1];\n    var url = \"http://localhost:8000/produit/\" + produitId;\n    await fetch(url).then(response => {\n      if (response.ok) {\n        console.log(\"fetch\");\n        return response.json();\n      } else {\n        console.log(response, 'Mauvaise réponse du réseau');\n      }\n    }).then(data => {\n      let imgs = [];\n\n      if (!data.image1.includes('null')) {\n        imgs.push(data.image1);\n      }\n\n      if (!data.image2.includes('null')) {\n        imgs.push(data.image2);\n      }\n\n      if (!data.image3.includes('null')) {\n        imgs.push(data.image3);\n      }\n\n      if (!data.image4.includes('null')) {\n        imgs.push(data.image4);\n      }\n\n      if (!data.image5.includes('null')) {\n        imgs.push(data.image5);\n      }\n\n      if (!data.image6.includes('null')) {\n        imgs.push(data.image6);\n      }\n\n      console.log(imgs);\n      setProduitimages(imgs);\n      setProduitImage(imgs[0]);\n      $(\".produitBuyImageSmall\")[0].classList.add(\"imageSelectionne\");\n      setProduit(data);\n    }).catch(function (error) {\n      console.log('Il y a eu un problème avec l\\'opération fetch: ' + error.message);\n    });\n    var url2 = \"http://localhost:8000/caracteristiques/\" + produitId + \"/\";\n    let data = await fetch(url2).then(res => {\n      if (res.ok) {\n        console.log(\"fetch\");\n        return res.json();\n      } else {\n        console.log(res, 'Mauvaise réponse du réseau');\n      }\n    }).then(data => {\n      return data;\n    });\n    console.log('daaaaaaaaaaaaaaaaaaaaaaaaaaaaataaaaaaaaaaaaaaaaaaaaa', data);\n    let c = [];\n    data.forEach(d => c.push(d.caracteristique));\n    setCaracteristiques(c);\n  };\n\n  const once = {\n    once: true\n  };\n  useEffect(() => {\n    $(window).scrollTop(0);\n    document.getElementById(\"navTop\").addEventListener('loaded', initNav());\n    return () => {};\n  }, []);\n  /*const produit_json = {\r\n      nom: \"Caméra réveil\",\r\n      sousNom: \"Contrôler son sommeil mais pas que !\",\r\n      prix: 165,\r\n      descriptionCourte: \"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Minima laborum velit magni voluptate sequi, quia est minus. Sequi ipsam tempore, dolore illum earum quod, eveniet ea numquam eligendi dicta tenetur.\",\r\n      descriptionComplete: \"lorem100 Lorem ipsum dolor sit, amet consectetur adipisicing elit. Perferendis debitis numquam aliquam dolores tempora sint ab dicta beatae ad fuga, cupiditate non dolorum ullam autem recusandae nostrum perspiciatis corrupti temporibus, similique pariatur neque! Incidunt minima repellat quia voluptates error? Iste nihil, hic iure maiores animi possimus, sint porro beatae mollitia quos nam corrupti consectetur quas? Cupiditate blanditiis nemo perspiciatis magni placeat cumque. Fugiat omnis neque minima dicta animi atque aut placeat cupiditate! Vero quaerat omnis provident explicabo amet cumque sequi, esse quas ullam incidunt inventore tempora enim at impedit odio reiciendis dicta, iusto perferendis libero nam assumenda numquam. Saepe nulla nisi, voluptatum debitis quibusdam nam officia dolor sed ipsum laborum eum nesciunt aliquam, fugiat harum esse totam placeat, rerum cupiditate ducimus beatae quidem? Harum, veritatis ut? Non adipisci nobis placeat, iusto totam quia deleniti! Iste ducimus soluta, aliquid asperiores itaque dolores consequatur ab quaerat dolorem magni voluptatem natus nesciunt repellendus voluptatum eveniet non quibusdam! Eum illum, nihil dolorum quisquam facilis tempore necessitatibus reiciendis amet eligendi id voluptatem deleniti itaque laborum accusamus, minima maxime, quasi iure! Neque magni dolores incidunt eos blanditiis consequatur beatae quod porro id voluptate eaque est asperiores facere reiciendis eligendi eum minima vitae atque, repellat sed commodi distinctio. Adipisci praesentium vel eaque, minus tenetur cum quisquam voluptatibus non aperiam nostrum doloribus, sequi veniam! A, recusandae. Pariatur necessitatibus explicabo ut tempora nostrum? Doloribus quod harum iusto id maiores quae enim corrupti saepe beatae! Minus nostrum minima distinctio rem pariatur recusandae modi, quasi tempora dolorum accusamus odio magni praesentium autem necessitatibus eos, consequatur quaerat sit accusantium provident maxime. Velit a voluptas, asperiores reiciendis totam fuga, blanditiis veniam eaque minima rerum sit quos illo. Placeat totam laudantium neque? Nemo ipsum placeat facilis quasi eos magni, aspernatur corporis, dolor earum ipsa ratione rerum eveniet omnis amet magnam commodi aliquam, atque exercitationem?\",\r\n      caracteristiques: [\r\n          { nom: \"Résolution\", valeur: \"4K (4320px)\" },\r\n          { nom: \"Résolution\", valeur: \"4K (4320px)\" },\r\n          { nom: \"Résolution\", valeur: \"4K (4320px)\" },\r\n          { nom: \"Résolution\", valeur: \"4K (4320px)\" },\r\n          { nom: \"Résolution\", valeur: \"4K (4320px)\" },\r\n          { nom: \"Résolution\", valeur: \"4K (4320px)\" },\r\n          { nom: \"Résolution\", valeur: \"4K (4320px)\" },\r\n      ],\r\n      images: [\r\n          { url: \"https://www.tomsguide.fr/content/uploads/sites/2/cache/2021/11/nest-indoor/3552683667.png\", descriptionComplete: \"4K (4320px)\" },\r\n          { url: \"https://i01.appmifile.com/v1/MI_18455B3E4DA706226CF7535A58E875F0267/pms_1635150514.11887024.png?thumb=1&w=421&h=421&width=421&height=421\", descriptionComplete: \"4K (4320px)\" },\r\n          { url: \"https://www.tomsguide.fr/content/uploads/sites/2/cache/2021/11/nest-indoor/3552683667.png\", descriptionComplete: \"4K (4320px)\" },\r\n          { url: \"https://www.tomsguide.fr/content/uploads/sites/2/cache/2021/11/nest-indoor/3552683667.png\", descriptionComplete: \"4K (4320px)\" },\r\n          { url: \"https://www.tomsguide.fr/content/uploads/sites/2/cache/2021/11/nest-indoor/3552683667.png\", descriptionComplete: \"4K (4320px)\" },\r\n          { url: \"https://www.tomsguide.fr/content/uploads/sites/2/cache/2021/11/nest-indoor/3552683667.png\", descriptionComplete: \"4K (4320px)\" },\r\n          { url: \"https://www.tomsguide.fr/content/uploads/sites/2/cache/2021/11/nest-indoor/3552683667.png\", descriptionComplete: \"4K (4320px)\" },\r\n      ],\r\n      commentaires: [\r\n          {\r\n              note: 4,\r\n              titre: \"Titre de l'avis\",\r\n              date: \"le 13 janvier 2022 à 08:19\",\r\n              contenu: \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Sint praesentium quibusdam architecto!\",\r\n              user: {\r\n                  username: \"Nanou\"\r\n              }\r\n          }\r\n      ]\r\n    }*/\n\n  const changeImage = (e, i) => {\n    $(\".produitBuyImageSmall\").removeClass(\"imageSelectionne\");\n    e.target.classList.add(\"imageSelectionne\");\n    setProduitImage(i);\n  };\n\n  const produitImages = produitimages.map(i => /*#__PURE__*/_jsxDEV(\"li\", {\n    className: \"produitBuyImageInList bloc\",\n    onClick: e => changeImage(e, i),\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: i,\n        className: \"produitBuyImageSmall\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 325,\n    columnNumber: 9\n  }, this));\n  /*const caracteristiques = produit_json.caracteristiques.map(c =>\r\n      <div className=\"caracteristique\">\r\n          <span className=\"caracteristiqueTitre\">\r\n              {c.nom}\r\n          </span>\r\n          <span className=\"caracteristiqueValeur\">\r\n              {c.valeur}\r\n          </span>\r\n      </div>\r\n  )*/\n\n  const [caracteristiques, setCaracteristiques] = useState('');\n\n  const zoomImg = e => {\n    $(\".produitBuyImageShow\").addClass(\"td0\");\n    $(\".produitBuyImageShow\").on('mousemove', e => {\n      var X = -e.pageX + $(\".imgCont\").offset().left + 0.5 * $(\".imgCont\").width();\n      var Y = -e.pageY + $(\".imgCont\").offset().top + 0.5 * $(\".imgCont\").height();\n      $(\".produitBuyImageShow\").css(\"object-position\", `${X}px ${Y}px`);\n    });\n  };\n\n  const leaveImg = e => {\n    $(\".produitBuyImageShow\").removeClass(\"td0\");\n    $(\".produitBuyImageShow\").css(\"object-position\", `center`);\n  };\n  /*const avis = produit_json.commentaires.map(a => <Avis note={a.note} titre={a.titre} date={a.date} user={a.user.username} contenu={a.contenu} />\r\n  )*/\n\n\n  const avis = \" Aucun avis a pour le moment été posté pour ce produit\";\n\n  const contact_send = async e => {\n    e.preventDefault();\n    let inputs = new Object();\n\n    for (let i = 0; i < $(\".inputform\").length; i++) inputs[$(\".inputform\")[i].name] = $(\".inputform\")[i].value;\n\n    var inputsForm = JSON.stringify(inputs);\n    console.log(inputsForm);\n    var url = \"http://localhost:8000/contact/\";\n    let data = await fetch(url, {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: inputsForm\n    }).then(response => {\n      if (response.ok) {\n        console.log(\"fetchLogin\", response);\n        return response.json();\n      } else {\n        console.log(response, 'Mauvaise réponse du réseau');\n      }\n    }).then(data => {\n      return data;\n    }).catch(function (error) {\n      console.log('Il y a eu un problème avec l\\'opération fetch: ' + error.message);\n    });\n    console.log(data);\n\n    if (data == \"message envoyé\") {\n      props.showHideModal(e, /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex flex-column justify-content-center align-items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"modline\",\n          children: \"Votre message a bien \\xE9t\\xE9 envoy\\xE9 !\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 393,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"modline\",\n          children: \"Un membre de l'\\xE9quipe Cam Securite vous contactera dans les plus brefs delai.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 394,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"modline\",\n          src: email,\n          alt: \"\",\n          style: {\n            maxWidth: '400px',\n            objectFit: 'contain'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 395,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 17\n      }, this));\n    } else {\n      props.showHideModal(e, /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex flex-column justify-content-center align-items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"modline text-danger\",\n          children: \"Un probl\\xE8me est survenu !\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 403,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"modline\",\n          children: \"Votre message n'a pas pu \\xEAtre envoy\\xE9, veuillez r\\xE9essayer ulterieurement.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"modline\",\n          src: erreur,\n          alt: \"\",\n          style: {\n            maxWidth: '400px',\n            objectFit: 'contain'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 402,\n        columnNumber: 17\n      }, this));\n      gsap.from(\".modline\", {\n        opacity: 0,\n        scale: 0,\n        duration: 0.4,\n        stagger: 0.4,\n        delay: 0.5\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-100 main\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"produitBuy d-flex flex-column flex-lg-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"produitBuyImageContainer w-100 \",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex justify-content-center align-items-center w-100\",\n            children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"produitBuyImageList\",\n              children: produitImages\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 420,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bloc\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"content border-start overflow-hidden imgCont\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: produitImage,\n                  className: \"produitBuyImageShow\",\n                  onMouseLeave: e => leaveImg(e),\n                  onMouseOver: e => zoomImg(e)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 425,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 424,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 423,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 419,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex justify-content-center align-items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"produitBuyDetail\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: france,\n                alt: \"\",\n                className: \"detailImage\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 431,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"detailText\",\n                children: \"Stock en France\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 432,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 430,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"produitBuyDetail\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: expedition24,\n                alt: \"\",\n                className: \"detailImage\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 437,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"detailText\",\n                children: \"Exp\\xE9dition en 24H\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 438,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 436,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"produitBuyDetail\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: paiement,\n                alt: \"\",\n                className: \"detailImage\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 443,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"detailText\",\n                children: \"Paiement s\\xE9curis\\xE9\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 444,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 442,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"produitBuyDetail\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: sav,\n                alt: \"\",\n                className: \"detailImage\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 449,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"detailText\",\n                children: \"SAV disponible et r\\xE9actif\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 450,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 448,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 429,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 418,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"produitBuyDescription w-100 pt-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stickp\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"produitBuyBuy align-items-center mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"d-flex flex-column w-100\",\n                children: [produit_json.prixSansReduction != produit_json.prix ? /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"produitInfo fs-5 mt-0\",\n                  children: \"Promotion\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 463,\n                  columnNumber: 41\n                }, this) : \"\", /*#__PURE__*/_jsxDEV(\"h2\", {\n                  className: \"produitBuyNom \",\n                  children: produit_json.nom\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 467,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-flex align-items-center\",\n                  children: [produit_json.prixSansReduction != produit_json.prix ? /*#__PURE__*/_jsxDEV(\"del\", {\n                    className: \"accueilProduitPrixBarre me-2 text-light\",\n                    children: [produit_json.prixSansReduction, \" \\u20AC\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 474,\n                    columnNumber: 45\n                  }, this) : \"\", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"produitBuyPrix fs-2\",\n                    children: [produit_json.prix, \" \\u20AC\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 480,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 470,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 459,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"d-flex w-100 justify-content-end\",\n                children: [u == 'rien trouvé' || u == '' || u == undefined ? \"\" : /*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"\",\n                  className: \"d-flex flex-column flex-md-row justify-content-center align-items-center\",\n                  children: [\"Quantit\\xE9\", /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"number\",\n                    className: \"ProduitBuyQte text-white border border-white\",\n                    defaultValue: 1,\n                    placeholder: \"1\",\n                    id: \"qte\",\n                    name: \"tentacles\",\n                    min: \"1\",\n                    max: produit_json.stock\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 493,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 491,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"produitBuyBtn\",\n                  onClick: e => acheter(e),\n                  children: \"Ajouter au panier\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 498,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 485,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 458,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 457,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"produitBuySousNom text-center w-100 mb-4\",\n            children: produit_json.sousNom\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 504,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"produitBuyDescriptionCourte mt-2\",\n            children: produit_json.descriptionCourte\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 507,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"produitBuyAutreOption\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 510,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"produitBuyCaracteristiques\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"caracteristiquesTitre\",\n              children: \"Caracteristiques techniques\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 514,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"caracteristiques\",\n              children: caracteristiques != '' ? caracteristiques.map(c => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"caracteristique\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"caracteristiqueTitre\",\n                  children: c.nom\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 523,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"caracteristiqueValeur\",\n                  children: c.valeur\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 526,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 522,\n                columnNumber: 37\n              }, this)) : \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 517,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 513,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"produitBuyDescriptionLongue\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"caracteristiquesTitre\",\n              children: \"Description compl\\xE8te\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 536,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"descriptionLongue mt-2\",\n              dangerouslySetInnerHTML: {\n                __html: produit_json.descriptionLongue\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 539,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 535,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 456,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 417,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"produitBuyCommentaire\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"caracteristiquesTitre\",\n          children: \"Une question sur le produit ?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 545,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          action: \"\",\n          className: \"d-flex w-100 commentPost\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-100 d-flex flex-column p-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"objet\",\n              className: \"commentInput inputform\",\n              value: `Question sur ${produit_json.nom}`,\n              hidden: \"true\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 550,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              name: \"message\",\n              id: \"\",\n              cols: \"30\",\n              rows: \"2\",\n              className: \"commentInput mb-2 inputform\",\n              placeholder: \"R\\xE9diger une question concernant le produit\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 551,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              name: \"email\",\n              className: \"commentInput inputform\",\n              placeholder: \"Entrer votre email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 552,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 549,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"commentBtn m-2\",\n            onClick: e => contact_send(e),\n            children: \"Poser\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 554,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 548,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"commentaires\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"commentaire\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 559,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 558,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 544,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"produitBuyCommentaire\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"caracteristiquesTitre\",\n          children: \"Avis sur le produit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 566,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"avisList\",\n          children: avis\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 569,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 565,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 416,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 415,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Produitachat, \"J6ktaoo8kJg/ZXHRzZEm6rU8JRA=\");\n\n_c = Produitachat;\nexport default Produitachat;\n\nvar _c;\n\n$RefreshReg$(_c, \"Produitachat\");","map":{"version":3,"sources":["C:/Users/Nourou/Documents/Developpement WEB/CamSecurite-django-react/frontend/src/pages/components/ProduitAchat.js"],"names":["parse","React","useState","useEffect","Avis","$","expedition24","france","paiement","sav","Produitajoute","gsap","email","erreur","Produitachat","props","produit_json","setProduit","panier","setPanier","produitimages","setProduitimages","produitImage","setProduitImage","u","setU","console","log","getCSRF","url2","r","fetch","credentials","then","response","ok","json","catch","error","message","acheter","e","preventDefault","url","csrftoken","csrfToken","us","headers","data","btn","target","innerHTML","classList","add","l","document","createElement","setAttribute","b","appendChild","disabled","inputsForm","Object","value","String","id","JSON","stringify","user","data2","produit","m","p","localStorage","getItem","obj","undefined","i","setItem","setTimeout","remove","showHideModal","image1","nom","prix","method","body","t","initNav","lien","URL","produitId","split","length","imgs","includes","push","image2","image3","image4","image5","image6","res","c","forEach","d","caracteristique","setCaracteristiques","once","window","scrollTop","getElementById","addEventListener","changeImage","removeClass","produitImages","map","caracteristiques","zoomImg","addClass","on","X","pageX","offset","left","width","Y","pageY","top","height","css","leaveImg","avis","contact_send","inputs","name","maxWidth","objectFit","from","opacity","scale","duration","stagger","delay","prixSansReduction","stock","sousNom","descriptionCourte","valeur","__html","descriptionLongue"],"mappings":"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","sourcesContent":["import parse from 'html-react-parser';\r\nimport React, { useState, useEffect } from 'react';\r\nimport Avis from './Avis';\r\nimport $ from 'jquery';\r\nimport expedition24 from '../assets/img/expedition24.png'\r\nimport france from '../assets/img/france.png'\r\nimport paiement from '../assets/img/paiement.jpg'\r\nimport sav from '../assets/img/sav.png'\r\nimport Produitajoute from './ProduitAjoute';\r\nimport { gsap } from \"gsap\";\r\nimport email from \"../assets/img/email.jpg\"\r\nimport erreur from \"../assets/img/erreur.jpg\"\r\n\r\nconst Produitachat = (props) => {\r\n    const [produit_json, setProduit] = useState(\"\")\r\n    const [panier,setPanier] = useState('')\r\n    const [produitimages, setProduitimages] = useState([\"\"])\r\n    const [produitImage, setProduitImage] = useState(<div className=\"loader\" id=\"loader-2\"></div>)\r\n    const [u,setU] = useState('')\r\n    console.log('u u 168161',u)\r\n  const getCSRF = async () => {\r\n    var url2 = \"http://localhost:8000/csrf/\"\r\n    let r = '' \r\n    await fetch(url2, {\r\n        credentials: 'include',\r\n      }).then(response => {\r\n        if(response.ok) {\r\n            console.log(\"fetchCSRF\")\r\n            r = response.json();\r\n        } else {\r\n            console.log(response,'Mauvaise réponse du réseau');\r\n        }\r\n        })\r\n        .catch(function(error) {\r\n        console.log('Il y a eu un problème avec l\\'opération fetch: ' + error.message);\r\n        });\r\n    return r\r\n}\r\n    console.log('props ppp produit',props)\r\n    const acheter = async (e) => {\r\n        e.preventDefault();\r\n        \r\n        var url = \"http://localhost:8000/current_user/?format=json\"\r\n        let r = await getCSRF()\r\n        const csrftoken = r.csrfToken\r\n        let us = await fetch(url,{                \r\n          headers: {\r\n          'Accept': 'application/json',\r\n          'Content-Type': 'application/json',\r\n          'X-CSRFToken': csrftoken\r\n        }, \r\n        credentials: 'include',\r\n        }).then(response => {\r\n        if(response.ok) {\r\n            console.log(\"current_user ttt\",response)\r\n            return response.json();\r\n        } else {\r\n            console.log(response,'Mauvaise réponse du réseau');\r\n        }\r\n        }).then(data => \r\n            {\r\n              return(data)\r\n            }\r\n            )\r\n        .catch(function(error) {\r\n          console.log('Il y a eu un problème avec l\\'opération fetch: ' + error.message);\r\n        });\r\n        setU(us)\r\n        let btn = e.target\r\n        btn.innerHTML=\"\"\r\n        btn.classList.add(\"btnLoading\")\r\n        var l = document.createElement('div') \r\n        l.setAttribute(\"class\",\"loader1\")\r\n        var b = document.createElement('div') \r\n        b.setAttribute(\"class\",\"box\")\r\n        b.appendChild(l)\r\n        console.log(b)\r\n        btn.appendChild(b);\r\n        btn.disabled=true\r\n        let inputsForm = new Object\r\n        console.log(u)\r\n        if(us!='rien trouvé'){            \r\n            inputsForm['quantite'] = $(\"#qte\")[0].value\r\n            inputsForm['iduser'] = String(u.id)\r\n            inputsForm['idproduit'] = String(produit_json.id)\r\n            inputsForm = JSON.stringify(inputsForm);\r\n            console.log('ajoutpanier',inputsForm)\r\n            var url2 = `http://localhost:8000/panierid/${us.user.id}/`\r\n  \r\n            let data2 = await fetch(url2).then(response => {\r\n            if(response.ok) {\r\n                console.log(\"fetch panier panier process\")\r\n                return response.json();\r\n            } else {\r\n                console.log(response,'Mauvaise réponse du réseau');\r\n            }\r\n            }).then(data => \r\n                {return data}\r\n                )\r\n            .catch(function(error) {\r\n            console.log('Il y a eu un problème avec l\\'opération fetch: ' + error.message);\r\n            });\r\n            setPanier(data2)\r\n        }\r\n        if(us=='rien trouvé'){            \r\n            console.log(\"pas d'user\")\r\n            let produit = new Object\r\n            let m = 'p'+String(produit_json.id)\r\n            produit[m] = new Object\r\n            produit[m]['quantite'] = '1'\r\n            produit[m]['id'] = String(produit_json.id)\r\n            produit = JSON.stringify(produit);\r\n            let p = localStorage.getItem('panier')\r\n            console.log('panier',p)\r\n            var obj = JSON.parse(p);\r\n            console.log('panier',produit_json)\r\n            \r\n            if(p!=null || p!=undefined){\r\n                console.log(\"pppppppppppppppppppppppppppppppp\")\r\n                for(var i in obj)\r\n                    console.log(obj[i]);\r\n                    if(obj[i].id == produit_json.id)\r\n                        console.log(\"produit trouvé\")\r\n                    else\r\n                        obj[m] = new Object\r\n                        obj[m]['quantite'] = '1'\r\n                        obj[m]['id'] = String(produit_json.id)\r\n                        localStorage.setItem('panier',JSON.stringify(obj))\r\n\r\n            }\r\n            else{\r\n                localStorage.setItem('panier',produit)\r\n            }\r\n            setTimeout(() => {\r\n                btn.innerHTML=\"Acheter\"\r\n                btn.classList.remove(\"btnLoading\")\r\n                props.showHideModal(e, <Produitajoute showHideModal={props.showHideModal} image={produit_json.image1} nom={produit_json.nom} panier={0} quantite={1} montant={produit_json.prix} />)\r\n            },250)\r\n    \r\n            btn.disabled=false\r\n        }\r\n        else{\r\n\r\n        var url2 = \"http://localhost:8000/ajouter_produit/\"\r\n\r\n        await fetch(url2,{\r\n            method: 'POST',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json',\r\n              }, \r\n              body: inputsForm\r\n          }).then(response => {\r\n        if(response.ok) {\r\n            console.log(\"fetchAddProduit\")\r\n            return response.json();\r\n        } else {\r\n            console.log(response,'Mauvaise réponse du réseau pas d ajout');\r\n        }\r\n        }).then(data => \r\n            {\r\n                console.log(data)\r\n            }\r\n            )\r\n        .catch(function(error) {\r\n        console.log('Il y a eu un problème avec l\\'opération fetch: ' + error.message);\r\n        });\r\n        setTimeout(() => {\r\n            btn.innerHTML=\"Acheter\"\r\n            btn.classList.remove(\"btnLoading\")\r\n            props.showHideModal(e, <Produitajoute showHideModal={props.showHideModal} image={produit_json.image1} nom={produit_json.nom}  panier={0} quantite={$(\"#qte\")[0].value} montant={produit_json.prix} />)\r\n        },250)\r\n\r\n        btn.disabled=false\r\n    }\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        let t = async () => {\r\n            var url = \"http://localhost:8000/current_user/?format=json\"\r\n            let r = await getCSRF()\r\n            const csrftoken = r.csrfToken\r\n            let data = await fetch(url,{                \r\n              headers: {\r\n              'Accept': 'application/json',\r\n              'Content-Type': 'application/json',\r\n              'X-CSRFToken': csrftoken\r\n            }, \r\n            credentials: 'include',\r\n            }).then(response => {\r\n            if(response.ok) {\r\n                console.log(\"current_user ttt\",response)\r\n                return response.json();\r\n            } else {\r\n                console.log(response,'Mauvaise réponse du réseau');\r\n            }\r\n            }).then(data => \r\n                {\r\n                  return(data)\r\n                }\r\n                )\r\n            .catch(function(error) {\r\n              console.log('Il y a eu un problème avec l\\'opération fetch: ' + error.message);\r\n            });\r\n            setU(data.user)\r\n          }\r\n            t()\r\n\r\n        return () => {\r\n        };\r\n    }, [props.user]);\r\n\r\n    let initNav = async () => {\r\n        const lien = document.URL\r\n        var produitId = lien.split('/')[lien.split('/').length-1]\r\n        var url = \"http://localhost:8000/produit/\"+produitId\r\n\r\n        await fetch(url).then(response => {\r\n            if(response.ok) {\r\n                console.log(\"fetch\")\r\n                return response.json();\r\n            } else {\r\n                console.log(response,'Mauvaise réponse du réseau');\r\n            }\r\n            }).then(data =>{\r\n                let imgs = []\r\n                if(!data.image1.includes('null')){\r\n                    imgs.push(data.image1)\r\n                }\r\n                if(!data.image2.includes('null')){\r\n                    imgs.push(data.image2)\r\n                }\r\n                if(!data.image3.includes('null')){\r\n                    imgs.push(data.image3)\r\n                }\r\n                if(!data.image4.includes('null')){\r\n                    imgs.push(data.image4)\r\n                }\r\n                if(!data.image5.includes('null')){\r\n                    imgs.push(data.image5)\r\n                }\r\n                if(!data.image6.includes('null')){\r\n                    imgs.push(data.image6)\r\n                }\r\n                console.log(imgs)\r\n                setProduitimages(imgs)\r\n                setProduitImage(imgs[0])\r\n                $(\".produitBuyImageSmall\")[0].classList.add(\"imageSelectionne\")\r\n                setProduit(data)\r\n            })\r\n            .catch(function(error) {\r\n            console.log('Il y a eu un problème avec l\\'opération fetch: ' + error.message);\r\n            });\r\n        \r\n        var url2 = \"http://localhost:8000/caracteristiques/\"+produitId+\"/\"\r\n        let data = await fetch(url2).then(\r\n            res => {\r\n            if(res.ok) {\r\n                console.log(\"fetch\")\r\n                return res.json();\r\n            } else {\r\n                console.log(res,'Mauvaise réponse du réseau');\r\n            }}\r\n        ).then(data =>{\r\n            return data\r\n        })\r\n        console.log('daaaaaaaaaaaaaaaaaaaaaaaaaaaaataaaaaaaaaaaaaaaaaaaaa',data)\r\n        let c = []\r\n        data.forEach(d => c.push(d.caracteristique))\r\n        setCaracteristiques(c)            \r\n    }\r\n    const once = {\r\n        once : true\r\n    };\r\n    useEffect(() => {\r\n        $(window).scrollTop(0);\r\n        document.getElementById(\"navTop\").addEventListener('loaded',initNav())\r\n        return () => {\r\n        };\r\n    }, []);\r\n    /*const produit_json = {\r\n        nom: \"Caméra réveil\",\r\n        sousNom: \"Contrôler son sommeil mais pas que !\",\r\n        prix: 165,\r\n        descriptionCourte: \"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Minima laborum velit magni voluptate sequi, quia est minus. Sequi ipsam tempore, dolore illum earum quod, eveniet ea numquam eligendi dicta tenetur.\",\r\n        descriptionComplete: \"lorem100 Lorem ipsum dolor sit, amet consectetur adipisicing elit. Perferendis debitis numquam aliquam dolores tempora sint ab dicta beatae ad fuga, cupiditate non dolorum ullam autem recusandae nostrum perspiciatis corrupti temporibus, similique pariatur neque! Incidunt minima repellat quia voluptates error? Iste nihil, hic iure maiores animi possimus, sint porro beatae mollitia quos nam corrupti consectetur quas? Cupiditate blanditiis nemo perspiciatis magni placeat cumque. Fugiat omnis neque minima dicta animi atque aut placeat cupiditate! Vero quaerat omnis provident explicabo amet cumque sequi, esse quas ullam incidunt inventore tempora enim at impedit odio reiciendis dicta, iusto perferendis libero nam assumenda numquam. Saepe nulla nisi, voluptatum debitis quibusdam nam officia dolor sed ipsum laborum eum nesciunt aliquam, fugiat harum esse totam placeat, rerum cupiditate ducimus beatae quidem? Harum, veritatis ut? Non adipisci nobis placeat, iusto totam quia deleniti! Iste ducimus soluta, aliquid asperiores itaque dolores consequatur ab quaerat dolorem magni voluptatem natus nesciunt repellendus voluptatum eveniet non quibusdam! Eum illum, nihil dolorum quisquam facilis tempore necessitatibus reiciendis amet eligendi id voluptatem deleniti itaque laborum accusamus, minima maxime, quasi iure! Neque magni dolores incidunt eos blanditiis consequatur beatae quod porro id voluptate eaque est asperiores facere reiciendis eligendi eum minima vitae atque, repellat sed commodi distinctio. Adipisci praesentium vel eaque, minus tenetur cum quisquam voluptatibus non aperiam nostrum doloribus, sequi veniam! A, recusandae. Pariatur necessitatibus explicabo ut tempora nostrum? Doloribus quod harum iusto id maiores quae enim corrupti saepe beatae! Minus nostrum minima distinctio rem pariatur recusandae modi, quasi tempora dolorum accusamus odio magni praesentium autem necessitatibus eos, consequatur quaerat sit accusantium provident maxime. Velit a voluptas, asperiores reiciendis totam fuga, blanditiis veniam eaque minima rerum sit quos illo. Placeat totam laudantium neque? Nemo ipsum placeat facilis quasi eos magni, aspernatur corporis, dolor earum ipsa ratione rerum eveniet omnis amet magnam commodi aliquam, atque exercitationem?\",\r\n        caracteristiques: [\r\n            { nom: \"Résolution\", valeur: \"4K (4320px)\" },\r\n            { nom: \"Résolution\", valeur: \"4K (4320px)\" },\r\n            { nom: \"Résolution\", valeur: \"4K (4320px)\" },\r\n            { nom: \"Résolution\", valeur: \"4K (4320px)\" },\r\n            { nom: \"Résolution\", valeur: \"4K (4320px)\" },\r\n            { nom: \"Résolution\", valeur: \"4K (4320px)\" },\r\n            { nom: \"Résolution\", valeur: \"4K (4320px)\" },\r\n        ],\r\n        images: [\r\n            { url: \"https://www.tomsguide.fr/content/uploads/sites/2/cache/2021/11/nest-indoor/3552683667.png\", descriptionComplete: \"4K (4320px)\" },\r\n            { url: \"https://i01.appmifile.com/v1/MI_18455B3E4DA706226CF7535A58E875F0267/pms_1635150514.11887024.png?thumb=1&w=421&h=421&width=421&height=421\", descriptionComplete: \"4K (4320px)\" },\r\n            { url: \"https://www.tomsguide.fr/content/uploads/sites/2/cache/2021/11/nest-indoor/3552683667.png\", descriptionComplete: \"4K (4320px)\" },\r\n            { url: \"https://www.tomsguide.fr/content/uploads/sites/2/cache/2021/11/nest-indoor/3552683667.png\", descriptionComplete: \"4K (4320px)\" },\r\n            { url: \"https://www.tomsguide.fr/content/uploads/sites/2/cache/2021/11/nest-indoor/3552683667.png\", descriptionComplete: \"4K (4320px)\" },\r\n            { url: \"https://www.tomsguide.fr/content/uploads/sites/2/cache/2021/11/nest-indoor/3552683667.png\", descriptionComplete: \"4K (4320px)\" },\r\n            { url: \"https://www.tomsguide.fr/content/uploads/sites/2/cache/2021/11/nest-indoor/3552683667.png\", descriptionComplete: \"4K (4320px)\" },\r\n        ],\r\n        commentaires: [\r\n            {\r\n                note: 4,\r\n                titre: \"Titre de l'avis\",\r\n                date: \"le 13 janvier 2022 à 08:19\",\r\n                contenu: \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Sint praesentium quibusdam architecto!\",\r\n                user: {\r\n                    username: \"Nanou\"\r\n                }\r\n            }\r\n        ]\r\n\r\n    }*/\r\n    const changeImage = (e, i) => {\r\n        $(\".produitBuyImageSmall\").removeClass(\"imageSelectionne\")\r\n        e.target.classList.add(\"imageSelectionne\")\r\n        setProduitImage(i)\r\n    }\r\n    const produitImages = produitimages.map(i =>\r\n        <li className=\"produitBuyImageInList bloc\" onClick={(e) => changeImage(e, i)}>\r\n            <div className=\"content\">\r\n                <img src={i} className=\"produitBuyImageSmall\" />\r\n            </div>\r\n        </li>)\r\n    /*const caracteristiques = produit_json.caracteristiques.map(c =>\r\n        <div className=\"caracteristique\">\r\n            <span className=\"caracteristiqueTitre\">\r\n                {c.nom}\r\n            </span>\r\n            <span className=\"caracteristiqueValeur\">\r\n                {c.valeur}\r\n            </span>\r\n        </div>\r\n    )*/\r\n    const [caracteristiques,setCaracteristiques] = useState('')\r\n    const zoomImg = (e) => {   \r\n        $(\".produitBuyImageShow\").addClass(\"td0\")\r\n        $(\".produitBuyImageShow\").on('mousemove',(e)=>{\r\n              var X = -e.pageX + $(\".imgCont\").offset().left + 0.5*$(\".imgCont\").width();\r\n              var Y = -e.pageY + $(\".imgCont\").offset().top + 0.5*$(\".imgCont\").height();\r\n              $(\".produitBuyImageShow\").css(\"object-position\",`${X}px ${Y}px`)    \r\n        })\r\n            };\r\n    const leaveImg = (e) => {\r\n        $(\".produitBuyImageShow\").removeClass(\"td0\")\r\n        $(\".produitBuyImageShow\").css(\"object-position\",`center`)\r\n    }\r\n    /*const avis = produit_json.commentaires.map(a => <Avis note={a.note} titre={a.titre} date={a.date} user={a.user.username} contenu={a.contenu} />\r\n    )*/\r\n    const avis =\" Aucun avis a pour le moment été posté pour ce produit\"\r\n\r\n    \r\n    const contact_send = async (e) => {\r\n        e.preventDefault();\r\n        let inputs = new Object()\r\n        for(let i=0;i<$(\".inputform\").length;i++)\r\n          inputs[$(\".inputform\")[i].name] = $(\".inputform\")[i].value\r\n        var inputsForm = JSON.stringify(inputs);\r\n        console.log(inputsForm)\r\n        var url = \"http://localhost:8000/contact/\"\r\n        let data = await fetch(url,{\r\n                method: 'POST',\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'Content-Type': 'application/json',\r\n                  }, \r\n                  body: inputsForm,\r\n              })\r\n              .then(response => {\r\n                if(response.ok) {\r\n                    console.log(\"fetchLogin\",response)\r\n                    return response.json();\r\n                } \r\n                else {\r\n                    console.log(response,'Mauvaise réponse du réseau');\r\n                }\r\n            })\r\n            .then(data => {\r\n                    return data\r\n                })\r\n            .catch(function(error) {\r\n                console.log('Il y a eu un problème avec l\\'opération fetch: ' + error.message);\r\n            });\r\n            console.log(data)\r\n            if (data==\"message envoyé\"){\r\n                props.showHideModal(e,\r\n                <div className='d-flex flex-column justify-content-center align-items-center'>\r\n                    <h3 className='modline'>Votre message a bien été envoyé !</h3>\r\n                    <p className='modline'>Un membre de l'équipe Cam Securite vous contactera dans les plus brefs delai.</p>\r\n                    <img className='modline' src={email} alt=\"\" style={{maxWidth:'400px',objectFit:'contain',}} />\r\n                    \r\n                </div>\r\n                )\r\n            }\r\n            else{\r\n                props.showHideModal(e,\r\n                <div className='d-flex flex-column justify-content-center align-items-center'>\r\n                    <h3 className='modline text-danger'>Un problème est survenu !</h3>\r\n                    <p className='modline' >Votre message n'a pas pu être envoyé, veuillez réessayer ulterieurement.</p>\r\n                    <img className='modline' src={erreur} alt=\"\" style={{maxWidth:'400px',objectFit:'contain',}} />\r\n                    \r\n                </div>)\r\n                gsap.from(\".modline\",{opacity: 0, scale: 0, duration: 0.4, stagger: 0.4, delay:0.5})\r\n\r\n            }\r\n\r\n    }\r\n\r\n    return (\r\n        <div className='w-100 main'>\r\n            <div>\r\n                <div className=\"produitBuy d-flex flex-column flex-lg-row\">\r\n                    <div className=\"produitBuyImageContainer w-100 \">\r\n                        <div className=\"d-flex justify-content-center align-items-center w-100\">\r\n                            <ul className=\"produitBuyImageList\">\r\n                                {produitImages}\r\n                            </ul>\r\n                            <div className=\"bloc\">\r\n                                <div className=\"content border-start overflow-hidden imgCont\">\r\n                                    <img src={produitImage} className=\"produitBuyImageShow\" onMouseLeave={(e) => leaveImg(e) } onMouseOver={(e) => zoomImg(e)} />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"d-flex justify-content-center align-items-center\">\r\n                            <div className=\"produitBuyDetail\">\r\n                                <img src={france} alt=\"\" className=\"detailImage\" />\r\n                                <span className=\"detailText\">\r\n                                    Stock en France\r\n                                </span>\r\n                            </div>\r\n                            <div className=\"produitBuyDetail\">\r\n                                <img src={expedition24} alt=\"\" className=\"detailImage\" />\r\n                                <span className=\"detailText\">\r\n                                    Expédition en 24H\r\n                                </span>\r\n                            </div>\r\n                            <div className=\"produitBuyDetail\">\r\n                                <img src={paiement} alt=\"\" className=\"detailImage\" />\r\n                                <span className=\"detailText\">\r\n                                    Paiement sécurisé\r\n                                </span>\r\n                            </div>\r\n                            <div className=\"produitBuyDetail\">\r\n                                <img src={sav} alt=\"\" className=\"detailImage\" />\r\n                                <span className=\"detailText\">\r\n                                    SAV disponible et réactif\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"produitBuyDescription w-100 pt-4\">\r\n                        <div className=\"stickp\">\r\n                            <div className=\"produitBuyBuy align-items-center mb-2\">\r\n                                <div className=\"d-flex flex-column w-100\">\r\n                                    {\r\n                                        produit_json.prixSansReduction!=produit_json.prix\r\n                                        ?\r\n                                        <span className=\"produitInfo fs-5 mt-0\">Promotion</span>\r\n                                        :\r\n                                        \"\"\r\n                                    }\r\n                                    <h2 className=\"produitBuyNom \">\r\n                                        {produit_json.nom}\r\n                                    </h2>        \r\n                                    <div className=\"d-flex align-items-center\">                                    \r\n                                        {\r\n                                            produit_json.prixSansReduction!=produit_json.prix\r\n                                            ?\r\n                                            <del className=\"accueilProduitPrixBarre me-2 text-light\">\r\n                                                {produit_json.prixSansReduction} €\r\n                                            </del>\r\n                                            :\r\n                                            \"\"                         \r\n                                        }\r\n                                        <span className=\"produitBuyPrix fs-2\">\r\n                                            {produit_json.prix} €\r\n                                        </span>\r\n                                    </div>                                   \r\n                                </div>\r\n                                <div className=\"d-flex w-100 justify-content-end\">\r\n                                    {\r\n                                        u=='rien trouvé' || u=='' || u==undefined\r\n                                        ?\r\n                                        \"\"\r\n                                        :\r\n                                        <label htmlFor=\"\" className=\"d-flex flex-column flex-md-row justify-content-center align-items-center\">\r\n                                            Quantité\r\n                                            <input type=\"number\" className=\"ProduitBuyQte text-white border border-white\" defaultValue={1} placeholder=\"1\" id=\"qte\" name=\"tentacles\"\r\n                                                min=\"1\" max={produit_json.stock} />\r\n                                        </label>\r\n\r\n                                    }\r\n                                    <button className=\"produitBuyBtn\" onClick={(e) => acheter(e)}>\r\n                                        Ajouter au panier\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <span className=\"produitBuySousNom text-center w-100 mb-4\">\r\n                            {produit_json.sousNom}\r\n                        </span>\r\n                        <p className=\"produitBuyDescriptionCourte mt-2\">\r\n                            {produit_json.descriptionCourte}\r\n                        </p>\r\n                        <div className=\"produitBuyAutreOption\">\r\n\r\n                        </div>\r\n                        <div className=\"produitBuyCaracteristiques\">\r\n                            <h2 className=\"caracteristiquesTitre\">\r\n                                Caracteristiques techniques\r\n                            </h2>\r\n                            <div className=\"caracteristiques\">\r\n                                {\r\n                                    caracteristiques != ''\r\n                                    ?\r\n                                    caracteristiques.map(c =>\r\n                                    <div className=\"caracteristique\">\r\n                                        <span className=\"caracteristiqueTitre\">\r\n                                            {c.nom}\r\n                                        </span>\r\n                                        <span className=\"caracteristiqueValeur\">\r\n                                            {c.valeur}\r\n                                        </span>\r\n                                    </div>)\r\n                                    :\r\n                                    \"\"\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"produitBuyDescriptionLongue\">\r\n                            <h2 className=\"caracteristiquesTitre\">\r\n                                Description complète\r\n                            </h2>\r\n                            <div className=\"descriptionLongue mt-2\" dangerouslySetInnerHTML={{__html: produit_json.descriptionLongue }}>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"produitBuyCommentaire\">\r\n                    <span className=\"caracteristiquesTitre\">\r\n                        Une question sur le produit ?\r\n                    </span>\r\n                    <form action=\"\" className=\"d-flex w-100 commentPost\">\r\n                        <div className=\"w-100 d-flex flex-column p-2\">\r\n                            <input type=\"text\" name='objet' className=\"commentInput inputform\" value={`Question sur ${produit_json.nom}`} hidden=\"true\" />\r\n                            <textarea  name='message' id=\"\" cols=\"30\" rows=\"2\" className=\"commentInput mb-2 inputform\" placeholder=\"Rédiger une question concernant le produit\" required></textarea>\r\n                            <input type=\"email\" name='email' className=\"commentInput inputform\" placeholder=\"Entrer votre email\" />\r\n                        </div>\r\n                        <button className=\"commentBtn m-2\" onClick={(e) => contact_send(e)}>\r\n                            Poser\r\n                        </button>\r\n                    </form>\r\n                    <div className=\"commentaires\">\r\n                        <div className=\"commentaire\">\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"produitBuyCommentaire\">\r\n                    <span className=\"caracteristiquesTitre\">\r\n                        Avis sur le produit\r\n                    </span>\r\n                    <div className=\"avisList\">\r\n                        {avis}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Produitachat;\r\n"]},"metadata":{},"sourceType":"module"}